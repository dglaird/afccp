
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dglaird.github.io/afccp/reference/data/values/">
      
      
        <link rel="prev" href="../processing/">
      
      
        <link rel="next" href="../support/">
      
      
      <link rel="icon" href="../../../images/logos/afccp_logo_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Values - Air Force Cadet Career Problem</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data.values" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Air Force Cadet Career Problem" class="md-header__button md-logo" aria-label="Air Force Cadet Career Problem" data-md-component="logo">
      
  <img src="../../../images/logos/afccp_logo_and_text_light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Air Force Cadet Career Problem
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Values
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dglaird/afccp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  üè† Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting-started/getting-started/" class="md-tabs__link">
          
  
  
  üöÄ Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../user-guide/overview/" class="md-tabs__link">
          
  
  
  üìò User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../developer-guide/" class="md-tabs__link">
        
  
  
    
  
  üß† Developer Guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../main/cadetcareerproblem_overview/" class="md-tabs__link">
          
  
  
  CadetCareerProblem

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  üìä Data

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../solutions/" class="md-tabs__link">
          
  
  
  üìà Solutions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../visualizations/" class="md-tabs__link">
          
  
  
  Visualizations

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../faq/" class="md-tabs__link">
        
  
  
    
  
  ‚ùì FAQs

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../help/" class="md-tabs__link">
        
  
  
    
  
  üÜò Help & Support

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Air Force Cadet Career Problem" class="md-nav__button md-logo" aria-label="Air Force Cadet Career Problem" data-md-component="logo">
      
  <img src="../../../images/logos/afccp_logo_and_text_light.png" alt="logo">

    </a>
    Air Force Cadet Career Problem
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dglaird/afccp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üè† Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üöÄ Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üöÄ Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìÑ Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üõ†Ô∏è Install Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            üõ†Ô∏è Install Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/developer-checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Checklist
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üìò User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üìò User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/tutorial_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 1 (Introduction)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/tutorial_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 2 (Data Overview)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/tutorial_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 3 (Parameters)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/tutorial_4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 4 (Value Parameters)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß† Developer Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CadetCareerProblem
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CadetCareerProblem
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_generated_data_corrections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generated Data Corrections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_main_data_corrections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Data Corrections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_other_adjustments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Adjustments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_value_parameter_specifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Value Parameter Specifications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_solution_generation_%26_algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solution Generation & Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_optimization_models_%26_meta-heuristics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization Models & Meta-Heuristics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_solution_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solution Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_export_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_data_visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main/cadetcareerproblem_results_visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Results Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìä Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            üìä Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adjustments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adjustments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../preferences/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preferences
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Values
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Values
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data.values--value-parameter-processing-module-for-afccp" class="md-nav__link">
    <span class="md-ellipsis">
      Value Parameter Processing Module for AFCCP
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Value Parameter Processing Module for AFCCP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data.values--main-functionalities" class="md-nav__link">
    <span class="md-ellipsis">
      Main Functionalities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data.values--key-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Key Concepts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data.values--available-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Available Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.value_parameters_sets_additions" class="md-nav__link">
    <span class="md-ellipsis">
      value_parameters_sets_additions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.model_value_parameters_to_defaults" class="md-nav__link">
    <span class="md-ellipsis">
      model_value_parameters_to_defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.generate_afocd_value_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      generate_afocd_value_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.update_value_and_weight_functions" class="md-nav__link">
    <span class="md-ellipsis">
      update_value_and_weight_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.generate_value_parameters_from_defaults" class="md-nav__link">
    <span class="md-ellipsis">
      generate_value_parameters_from_defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.default_value_parameters_from_excel" class="md-nav__link">
    <span class="md-ellipsis">
      default_value_parameters_from_excel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.cadet_weight_function" class="md-nav__link">
    <span class="md-ellipsis">
      cadet_weight_function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.afsc_weight_function" class="md-nav__link">
    <span class="md-ellipsis">
      afsc_weight_function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.create_segment_dict_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      create_segment_dict_from_string
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.value_function_builder" class="md-nav__link">
    <span class="md-ellipsis">
      value_function_builder
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.exponential_function" class="md-nav__link">
    <span class="md-ellipsis">
      exponential_function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.derivative_function" class="md-nav__link">
    <span class="md-ellipsis">
      derivative_function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.inverse_derivative_function" class="md-nav__link">
    <span class="md-ellipsis">
      inverse_derivative_function
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.condense_value_functions" class="md-nav__link">
    <span class="md-ellipsis">
      condense_value_functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.compare_value_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      compare_value_parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data.values.translate_vft_to_gp_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      translate_vft_to_gp_parameters
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generation/basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation- 'Basic'
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generation/realistic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation- 'Realistic'
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üìà Solutions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üìà Solutions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solutions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solutions/algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solutions/handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solutions/optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../solutions/sensitivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensitivity
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visualizations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Visualizations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizations/bubbles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bubbles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizations/charts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Charts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualizations/slides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slides
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‚ùì FAQs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üÜò Help & Support
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div class="doc doc-object doc-module">



<h1 id="data.values" class="doc doc-heading">
            <code>data.values</code>


<a href="#data.values" class="headerlink" title="Permanent link">&para;</a></h1>

    <div class="doc doc-contents first">

        <h2 id="data.values--value-parameter-processing-module-for-afccp">Value Parameter Processing Module for AFCCP<a class="headerlink" href="#data.values--value-parameter-processing-module-for-afccp" title="Permanent link">&para;</a></h2>
<p>This module manages the construction, manipulation, transformation, and comparison of <strong>value parameters</strong>
for the <code>CadetCareerProblem</code> object. Value parameters define the objectives, weights,
and nonlinear utility functions used to evaluate cadet-to-AFSC assignments under Value-Focused Thinking (VFT)
and Goal Programming (GP) frameworks.</p>
<p>The functions in this module enable dynamic adjustment of value preferences, conversion between modeling formats,
and consistent export or validation of weight/value configurations for modeling, diagnostics, or user inspection.</p>
<h3 id="data.values--main-functionalities">Main Functionalities<a class="headerlink" href="#data.values--main-functionalities" title="Permanent link">&para;</a></h3>
<ul>
<li>Build and scale value functions based on cadet and AFSC preferences</li>
<li>Generate AFOCD-based weights and objectives using tiered education alignment</li>
<li>Update and regenerate weights and utility functions after changes</li>
<li>Condense redundant value function breakpoints for speed and clarity</li>
<li>Translate between VFT and Goal Programming formats (e.g., for GP solver compatibility)</li>
<li>Export value parameters to Excel for audit and transparency</li>
<li>Compare multiple value parameter sets for consistency diagnostics</li>
</ul>
<h3 id="data.values--key-concepts">Key Concepts<a class="headerlink" href="#data.values--key-concepts" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Value Parameters</strong>: Contain objective weights, utility functions, and constraints used in the optimization.</li>
<li><strong>Breakpoints</strong>: Discrete x/y points used to approximate nonlinear value functions.</li>
<li><strong>Objective Types</strong>: Tier-based education goals, demographic balancing, quota constraints, cadet merit, etc.</li>
<li><strong>Constraint Types</strong>: Enforce structural bounds (e.g., minimum quotas, tier alignment).</li>
<li><strong>AFOCD Alignment</strong>: Relates cadet degrees (via CIP codes) to tiered AFSC requirements.</li>
<li><strong>Merit-Based Assignment</strong>: Rewards cadet-AFSC matches according to percentile rank.</li>
</ul>
<h3 id="data.values--available-functions">Available Functions<a class="headerlink" href="#data.values--available-functions" title="Permanent link">&para;</a></h3>
<ul>
<li><code>update_value_and_weight_functions</code> ‚Äî Rebuilds weight/value functions after updates</li>
<li><code>value_function_builder</code> ‚Äî Generates piecewise exponential approximations of utility functions</li>
<li><code>generate_afocd_value_parameters</code> ‚Äî Applies AFOCD rules to populate objective targets and constraints</li>
<li><code>model_value_parameters_to_defaults</code> ‚Äî Exports value parameter set to Excel for auditing</li>
<li><code>compare_value_parameters</code> ‚Äî Compares two value parameter dictionaries for equivalency</li>
<li><code>condense_value_functions</code> ‚Äî Removes redundant zeros in piecewise value functions</li>
<li><code>translate_vft_to_gp_parameters</code> ‚Äî Converts VFT model structure to Goal Programming inputs</li>
</ul>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="data.values.value_parameters_sets_additions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">value_parameters_sets_additions</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.value_parameters_sets_additions" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Enhances the <code>value_parameters</code> dictionary by adding derived sets and metadata required
for optimization and constraint evaluation in the cadet-AFSC matching problem.</p>
<p>This function precomputes various subset structures (e.g., AFSCs relevant to specific objectives,
cadets with utility constraints, constrained objectives, etc.) to avoid unnecessary computation
during model solving and value function evaluations.</p>
<h4 id="data.values.value_parameters_sets_additions--parameters">Parameters<a class="headerlink" href="#data.values.value_parameters_sets_additions--parameters" title="Permanent link">&para;</a></h4>
<p>parameters : dict
    Dictionary of fixed model parameters (cadets, AFSCs, quotas, preferences, etc.).
value_parameters : dict
    Dictionary of value model parameters including objectives, weights, constraints, and utility functions.
printing : bool, optional
    Whether to print diagnostic output during execution. Default is False.</p>
<h4 id="data.values.value_parameters_sets_additions--returns">Returns<a class="headerlink" href="#data.values.value_parameters_sets_additions--returns" title="Permanent link">&para;</a></h4>
<p>dict
    Updated <code>value_parameters</code> dictionary with added sets and utility matrices, including:</p>
<ul>
<li>
<p><code>K</code> : np.ndarray
  Indices for all objectives</p>
</li>
<li>
<p><code>K^A[j]</code> : dict[int ‚Üí np.ndarray]
  Objectives with non-zero weights for AFSC <code>j</code></p>
</li>
<li>
<p><code>K^C[j]</code> : dict[int ‚Üí np.ndarray]
  Constrained objectives (non-zero constraint types) for AFSC <code>j</code></p>
</li>
<li>
<p><code>J^A[k]</code> : dict[int ‚Üí np.ndarray]
  AFSCs that include objective <code>k</code></p>
</li>
<li>
<p><code>I^C</code> : np.ndarray
  Cadets with value constraints (non-zero minimum value)</p>
</li>
<li>
<p><code>J^Top_Choice[i]</code> : dict[int ‚Üí np.ndarray]
  Preferred AFSCs for cadet <code>i</code> that satisfy the cadet's value constraint</p>
</li>
<li>
<p><code>J^C</code> : np.ndarray
  AFSCs with value constraints</p>
</li>
<li>
<p><code>r[j, k]</code> : np.ndarray
  Number of breakpoints in the value function for AFSC <code>j</code> and objective <code>k</code></p>
</li>
<li>
<p><code>L[j][k]</code> : np.ndarray
  Indices for breakpoints in the value function</p>
</li>
<li>
<p><code>objective_min</code>, <code>objective_max</code> : np.ndarray
  Lower and upper bounds on constrained objectives by AFSC</p>
</li>
<li>
<p><code>global_utility</code> : np.ndarray
  Combined cadet and AFSC utility used for global utility optimization (if available)</p>
</li>
</ul>
<h4 id="data.values.value_parameters_sets_additions--notes">Notes<a class="headerlink" href="#data.values.value_parameters_sets_additions--notes" title="Permanent link">&para;</a></h4>
<ul>
<li>The function corrects legacy constraint types (3 and 4 ‚Üí 1 and 2 respectively).</li>
<li>It supports objectives tied to cadet demographics such as <code>USAFA Proportion</code>, and <code>Tier</code> objectives.</li>
<li>The function also scales and rounds weights for numerical stability.</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">value_parameters_sets_additions</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enhances the `value_parameters` dictionary by adding derived sets and metadata required</span>
<span class="sd">    for optimization and constraint evaluation in the cadet-AFSC matching problem.</span>

<span class="sd">    This function precomputes various subset structures (e.g., AFSCs relevant to specific objectives,</span>
<span class="sd">    cadets with utility constraints, constrained objectives, etc.) to avoid unnecessary computation</span>
<span class="sd">    during model solving and value function evaluations.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    parameters : dict</span>
<span class="sd">        Dictionary of fixed model parameters (cadets, AFSCs, quotas, preferences, etc.).</span>
<span class="sd">    value_parameters : dict</span>
<span class="sd">        Dictionary of value model parameters including objectives, weights, constraints, and utility functions.</span>
<span class="sd">    printing : bool, optional</span>
<span class="sd">        Whether to print diagnostic output during execution. Default is False.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">        Updated `value_parameters` dictionary with added sets and utility matrices, including:</span>

<span class="sd">    - `K` : np.ndarray</span>
<span class="sd">      Indices for all objectives</span>

<span class="sd">    - `K^A[j]` : dict[int ‚Üí np.ndarray]</span>
<span class="sd">      Objectives with non-zero weights for AFSC `j`</span>

<span class="sd">    - `K^C[j]` : dict[int ‚Üí np.ndarray]</span>
<span class="sd">      Constrained objectives (non-zero constraint types) for AFSC `j`</span>

<span class="sd">    - `J^A[k]` : dict[int ‚Üí np.ndarray]</span>
<span class="sd">      AFSCs that include objective `k`</span>

<span class="sd">    - `I^C` : np.ndarray</span>
<span class="sd">      Cadets with value constraints (non-zero minimum value)</span>

<span class="sd">    - `J^Top_Choice[i]` : dict[int ‚Üí np.ndarray]</span>
<span class="sd">      Preferred AFSCs for cadet `i` that satisfy the cadet&#39;s value constraint</span>

<span class="sd">    - `J^C` : np.ndarray</span>
<span class="sd">      AFSCs with value constraints</span>

<span class="sd">    - `r[j, k]` : np.ndarray</span>
<span class="sd">      Number of breakpoints in the value function for AFSC `j` and objective `k`</span>

<span class="sd">    - `L[j][k]` : np.ndarray</span>
<span class="sd">      Indices for breakpoints in the value function</span>

<span class="sd">    - `objective_min`, `objective_max` : np.ndarray</span>
<span class="sd">      Lower and upper bounds on constrained objectives by AFSC</span>

<span class="sd">    - `global_utility` : np.ndarray</span>
<span class="sd">      Combined cadet and AFSC utility used for global utility optimization (if available)</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    - The function corrects legacy constraint types (3 and 4 ‚Üí 1 and 2 respectively).</span>
<span class="sd">    - It supports objectives tied to cadet demographics such as `USAFA Proportion`, and `Tier` objectives.</span>
<span class="sd">    - The function also scales and rounds weights for numerical stability.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Adding AFSC and objective subsets to value parameters...&#39;</span><span class="p">)</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span>

    <span class="c1"># Temporary manual adjustment of constraint_type matrix</span>
    <span class="n">indices_3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">indices_4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">][</span><span class="n">indices_3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">][</span><span class="n">indices_4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="c1"># Set of Objectives</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;O&quot;</span><span class="p">])</span>

    <span class="c1"># Set of objectives for each AFSC</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># objectives</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># constrained objectives</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^C&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

    <span class="c1"># 5% of total USAFA graduating class set</span>
    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Add the AFSC indices to the set</span>
    <span class="k">if</span> <span class="s2">&quot;USAFA-Constrained AFSCs&quot;</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;,&quot;</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;USAFA-Constrained AFSCs&quot;</span><span class="p">]:</span>
            <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
            <span class="n">usafa_afscs</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;USAFA-Constrained AFSCs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">afsc</span> <span class="ow">in</span> <span class="n">usafa_afscs</span><span class="p">:</span>
                <span class="n">afsc</span> <span class="o">=</span> <span class="n">afsc</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">j</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;afscs&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afsc</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">j</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: Something is wrong with the USAFA-Constrained AFSCs! &quot;</span>
                          <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">afsc</span> <span class="o">+</span> <span class="s2">&quot;&#39; is not in the list of AFSCs.&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">],</span> <span class="n">j</span><span class="p">))</span>
            <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;J^USAFA&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

    <span class="c1"># Set of objectives that seek to balance some cadet demographic</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">,</span> <span class="s1">&#39;Mandatory&#39;</span><span class="p">,</span> <span class="s1">&#39;Desired&#39;</span><span class="p">,</span> <span class="s1">&#39;Permitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Tier 1&#39;</span><span class="p">,</span> <span class="s1">&#39;Tier 2&#39;</span><span class="p">,</span> <span class="s1">&#39;Tier 3&#39;</span><span class="p">,</span> <span class="s1">&#39;Tier 4&#39;</span><span class="p">]</span>

    <span class="c1"># Set of AFSCs for each objective:</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;J^A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;O&quot;</span><span class="p">]):</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;J^A&#39;</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][:,</span> <span class="n">k</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

    <span class="c1"># Cadet Value Constraint Set</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;I^C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_value_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Create a set of preferred AFSCs that are constrained for cadets with utility constraints</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;J^Top_Choice&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;I^C&#39;</span><span class="p">]:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;J^Top_Choice&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;cadet_utility&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_value_min&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])[</span><span class="mi">0</span><span class="p">],</span>
                                               <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J^E&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>

    <span class="c1"># AFSC Value Constraint Set</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;J^C&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># number of breakpoints</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="nb">len</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;K&quot;</span><span class="p">]]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]])</span>

    <span class="c1"># set of breakpoints</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">])</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;O&quot;</span><span class="p">])]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">])],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

    <span class="c1"># Round weights</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">],</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">],</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">],</span> <span class="mi">8</span><span class="p">)</span>

    <span class="c1"># Extract AFSC objective min/max measures</span>
    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_min&quot;</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_max&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">]]),</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;O&quot;</span><span class="p">]])</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^C&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
            <span class="n">value_list</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_min&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
            <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_max&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

    <span class="c1"># &quot;Global Utility&quot; matrix</span>
    <span class="k">if</span> <span class="s2">&quot;afsc_utility&quot;</span> <span class="ow">in</span> <span class="n">p</span> <span class="ow">and</span> <span class="s2">&quot;cadet_utility&quot;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;global_utility&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J&#39;</span><span class="p">]:</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;global_utility&#39;</span><span class="p">][:,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;cadet_utility&#39;</span><span class="p">][:,</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> \
                                         <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afsc_utility&#39;</span><span class="p">][:,</span> <span class="n">j</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">vp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.model_value_parameters_to_defaults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_value_parameters_to_defaults</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.model_value_parameters_to_defaults" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Export Instance Value Parameters to Excel Defaults File.</p>
<p>This function extracts the current value parameters from the provided AFCCP model <code>instance</code>
and saves them into a structured Excel file. This allows users to export and preserve
a particular configuration of value weights, objectives, and constraints for cadets and AFSCs.</p>
<h4 id="data.values.model_value_parameters_to_defaults--parameters">Parameters:<a class="headerlink" href="#data.values.model_value_parameters_to_defaults--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>instance (<code>CadetCareerProblem</code>): The current problem instance containing value parameters in <code>instance.value_parameters</code>.</li>
<li>filepath (str): Full path (including <code>.xlsx</code> extension) where the Excel file will be saved.</li>
<li>printing (bool, optional): If True, prints progress message during export. Default is False.</li>
</ul>
<h4 id="data.values.model_value_parameters_to_defaults--returns">Returns:<a class="headerlink" href="#data.values.model_value_parameters_to_defaults--returns" title="Permanent link">&para;</a></h4>
<p>None: Saves structured Excel file to disk with sheets for overall weights, AFSC weights, and objective components.</p>
<h4 id="data.values.model_value_parameters_to_defaults--examples">Examples:<a class="headerlink" href="#data.values.model_value_parameters_to_defaults--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">model_value_parameters_to_defaults</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;outputs/vp_defaults.xlsx&#39;</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">model_value_parameters_to_defaults</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Export Instance Value Parameters to Excel Defaults File.</span>

<span class="sd">    This function extracts the current value parameters from the provided AFCCP model `instance`</span>
<span class="sd">    and saves them into a structured Excel file. This allows users to export and preserve</span>
<span class="sd">    a particular configuration of value weights, objectives, and constraints for cadets and AFSCs.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - instance (`CadetCareerProblem`): The current problem instance containing value parameters in `instance.value_parameters`.</span>
<span class="sd">    - filepath (str): Full path (including `.xlsx` extension) where the Excel file will be saved.</span>
<span class="sd">    - printing (bool, optional): If True, prints progress message during export. Default is False.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    None: Saves structured Excel file to disk with sheets for overall weights, AFSC weights, and objective components.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    model_value_parameters_to_defaults(instance, filepath=&#39;outputs/vp_defaults.xlsx&#39;, printing=True)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Exporting value parameters as defaults to excel...&#39;</span><span class="p">)</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span>

    <span class="c1"># Create &quot;Overall Weights&quot; dataframe</span>
    <span class="n">overall_weights_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Cadets Weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">]],</span>
                                       <span class="s1">&#39;AFSCs Weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">]],</span>
                                       <span class="s1">&#39;Cadets Min Value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">]],</span>
                                       <span class="s1">&#39;AFSCs Min Value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">]],</span>
                                       <span class="s1">&#39;Cadet Weight Function&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">]],</span>
                                       <span class="s1">&#39;AFSC Weight Function&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">]]})</span>

    <span class="c1"># Construct other dataframes</span>
    <span class="n">afsc_weights_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;AFSC&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afscs&#39;</span><span class="p">][:</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">]],</span>
                                    <span class="s1">&#39;AFSC Swing Weight&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">((</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]))</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                                    <span class="s1">&#39;AFSC Min Value&#39;</span><span class="p">:</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">]})</span>

    <span class="c1"># AFSC Objective Components Translations Dictionary</span>
    <span class="n">ao_trans_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;AFSC Objective Weights&#39;</span><span class="p">:</span> <span class="s1">&#39;objective_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;AFSC Objective Targets&#39;</span><span class="p">:</span> <span class="s1">&#39;objective_target&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;AFSC Objective Min Value&#39;</span><span class="p">:</span> <span class="s1">&#39;objective_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;Constraint Type&#39;</span><span class="p">:</span> <span class="s1">&#39;constraint_type&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Value Functions&#39;</span><span class="p">:</span> <span class="s1">&#39;value_functions&#39;</span><span class="p">}</span>

    <span class="c1"># Create the AFSC Objective Components DataFrames</span>
    <span class="n">ao_dfs</span> <span class="o">=</span> <span class="p">{</span><span class="n">component</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;AFSC&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afscs&#39;</span><span class="p">][:</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">]]})</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">ao_trans_dict</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">ao_dfs</span><span class="p">:</span>

        <span class="c1"># Scale AFSC Objective Weights so that the largest is set to 100 rather than forcing them all to sum to 1</span>
        <span class="k">if</span> <span class="n">component</span> <span class="o">==</span> <span class="s2">&quot;AFSC Objective Weights&quot;</span><span class="p">:</span>
            <span class="n">comp_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="nb">max</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span> <span class="o">*</span> <span class="mi">100</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">comp_arr</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="n">ao_trans_dict</span><span class="p">[</span><span class="n">component</span><span class="p">]]</span>  <span class="c1"># &quot;Component Array&quot;, vp[&quot;objective_target&quot;] for example</span>

        <span class="c1"># Load columns of the dataframe</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">objective</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objectives&#39;</span><span class="p">]):</span>
            <span class="n">ao_dfs</span><span class="p">[</span><span class="n">component</span><span class="p">][</span><span class="n">objective</span><span class="p">]</span> <span class="o">=</span> <span class="n">comp_arr</span><span class="p">[:,</span> <span class="n">k</span><span class="p">]</span>

    <span class="c1"># Export to excel</span>
    <span class="k">with</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelWriter</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
        <span class="n">overall_weights_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Overall Weights&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">afsc_weights_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;AFSC Weights&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">ao_dfs</span><span class="p">:</span>
            <span class="n">ao_dfs</span><span class="p">[</span><span class="n">component</span><span class="p">]</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="n">writer</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">component</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.generate_afocd_value_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_afocd_value_parameters</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span><span class="p">)</span></code>

<a href="#data.values.generate_afocd_value_parameters" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Generate AFOCD-Based Value Parameters for AFSC Assignment.</p>
<p>This function builds out the objective weights, targets, and constraints for each AFSC
based on their tiered degree requirements as specified in the AFOCD (Air Force Officer
Classification Directory). Each tier (1‚Äì4) contributes differently based on whether the degree
requirement is Mandatory, Desired, or Permitted.</p>
<p>The function modifies the provided value parameters dictionary in-place by populating:</p>
<ul>
<li><code>objective_weight</code></li>
<li><code>objective_target</code></li>
<li><code>objective_value_min</code></li>
<li><code>constraint_type</code></li>
<li><code>value_functions</code></li>
</ul>
<p>It uses multipliers for tier importance and maps the degree tier qualifications to model-ready
value and constraint settings.</p>
<h4 id="data.values.generate_afocd_value_parameters--parameters">Parameters:<a class="headerlink" href="#data.values.generate_afocd_value_parameters--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>parameters (dict): Problem instance parameters dictionary (contains tier structure, tier types, and tier proportions).</li>
<li>default_value_parameters (dict): Template or pre-initialized dictionary of value parameters to be modified and returned.</li>
</ul>
<h4 id="data.values.generate_afocd_value_parameters--returns">Returns:<a class="headerlink" href="#data.values.generate_afocd_value_parameters--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>dict: Updated <code>default_value_parameters</code> dictionary with AFOCD-based settings applied.</li>
</ul>
<h4 id="data.values.generate_afocd_value_parameters--examples">Examples:<a class="headerlink" href="#data.values.generate_afocd_value_parameters--examples" title="Permanent link">&para;</a></h4>
<p>```python
updated_value_parameters = generate_afocd_value_parameters(instance.parameters, default_vp)</p>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_afocd_value_parameters</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate AFOCD-Based Value Parameters for AFSC Assignment.</span>

<span class="sd">    This function builds out the objective weights, targets, and constraints for each AFSC</span>
<span class="sd">    based on their tiered degree requirements as specified in the AFOCD (Air Force Officer</span>
<span class="sd">    Classification Directory). Each tier (1‚Äì4) contributes differently based on whether the degree</span>
<span class="sd">    requirement is Mandatory, Desired, or Permitted.</span>

<span class="sd">    The function modifies the provided value parameters dictionary in-place by populating:</span>

<span class="sd">    - `objective_weight`</span>
<span class="sd">    - `objective_target`</span>
<span class="sd">    - `objective_value_min`</span>
<span class="sd">    - `constraint_type`</span>
<span class="sd">    - `value_functions`</span>

<span class="sd">    It uses multipliers for tier importance and maps the degree tier qualifications to model-ready</span>
<span class="sd">    value and constraint settings.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - parameters (dict): Problem instance parameters dictionary (contains tier structure, tier types, and tier proportions).</span>
<span class="sd">    - default_value_parameters (dict): Template or pre-initialized dictionary of value parameters to be modified and returned.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    - dict: Updated `default_value_parameters` dictionary with AFOCD-based settings applied.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    updated_value_parameters = generate_afocd_value_parameters(instance.parameters, default_vp)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span>

    <span class="c1"># AFOCD Objective Indices</span>
    <span class="n">tier_objectives</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Tier &quot;</span> <span class="o">+</span> <span class="n">t</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">]])</span>

    <span class="c1"># Tier multipliers</span>
    <span class="n">tm</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">}</span>

    <span class="c1"># Loop through each AFSC</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]:</span>

        <span class="c1"># Loop through each AFOCD tier</span>
        <span class="k">for</span> <span class="n">t</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tier_objectives</span><span class="p">):</span>
            <span class="n">tier</span> <span class="o">=</span> <span class="n">t</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="c1"># We only do this for valid AFOCD tiers</span>
            <span class="k">if</span> <span class="n">tier</span> <span class="o">&lt;=</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_count&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>

                <span class="c1"># Objective Weight</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_mandatory&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">90</span> <span class="o">*</span> <span class="n">tm</span><span class="p">[</span><span class="n">tier</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_desired&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">70</span> <span class="o">*</span> <span class="n">tm</span><span class="p">[</span><span class="n">tier</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_permitted&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="mi">50</span> <span class="o">*</span> <span class="n">tm</span><span class="p">[</span><span class="n">tier</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Tier doesn&#39;t exist or is an ineligible tier</span>

                <span class="c1"># Objective Target</span>
                <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_target&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_proportion&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span>

                <span class="c1"># Objective Min Value</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_leq&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_value_min&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;0, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_proportion&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># &lt;= OR ==</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;objective_value_min&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_proportion&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;, 5&quot;</span>

                <span class="c1"># Constraint Type (Default to turning all constraints on. It&#39;s easier to make them zeros later...)</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_mandatory&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;constraint_type&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Easier to meet &quot;at least&quot; constraint (M &gt;/= x) based on PGL</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_desired&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_leq&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;constraint_type&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Easier to meet &quot;at most&quot; constraint (D &lt; x) based on proportion</span>
                    <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_geq&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;constraint_type&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Easier to meet &quot;at least&quot; constraint (D &gt; x) based on PGL</span>
                <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;t_permitted&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s2">&quot;constraint_type&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># Easier to meet &quot;at most&quot; constraint (P &lt; x) based on proportion</span>

                <span class="c1"># Value Functions</span>
                <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;t_leq&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">t</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Min Decreasing|0.3&quot;</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># &lt;= OR ==</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Min Increasing|0.3&quot;</span>

    <span class="k">return</span> <span class="n">vp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.update_value_and_weight_functions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_value_and_weight_functions</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#data.values.update_value_and_weight_functions" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Update Value and Weight Functions for the Current Value Parameter Set.</p>
<p>This function recalculates the cadet weights, AFSC weights, and value function breakpoints
(<code>a</code> and <code>f^hat</code>) for the currently loaded set of value parameters in the instance. It is useful
for refreshing value structures after manual edits to the value parameters, such as changes
in weight functions or objective targets.</p>
<p>It does not add or remove objectives from the current set ‚Äî only updates the internal structure
based on the existing configuration. For structural changes (adding/removing objectives), you must
reinitialize the value parameter set entirely.</p>
<h4 id="data.values.update_value_and_weight_functions--parameters">Parameters:<a class="headerlink" href="#data.values.update_value_and_weight_functions--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>instance (CadetCareerProblem): The active problem instance containing <code>parameters</code> and <code>value_parameters</code>.</li>
<li>num_breakpoints (int, optional): Number of breakpoints used to approximate the nonlinear value functions.
  If not specified, defaults to internal value function settings.</li>
</ul>
<h4 id="data.values.update_value_and_weight_functions--returns">Returns:<a class="headerlink" href="#data.values.update_value_and_weight_functions--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>dict: The updated <code>value_parameters</code> dictionary with recalculated weights and piecewise linear segments.</li>
</ul>
<h4 id="data.values.update_value_and_weight_functions--examples">Examples:<a class="headerlink" href="#data.values.update_value_and_weight_functions--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span> <span class="o">=</span> <span class="n">update_value_and_weight_functions</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div>
<h4 id="data.values.update_value_and_weight_functions--see-also">See Also:<a class="headerlink" href="#data.values.update_value_and_weight_functions--see-also" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="../../../../afccp/reference/data/values/#data.values.cadet_weight_function"><code>cadet_weight_function</code></a>:
  Generates cadet weights from merit scores using a user-defined weighting function.</li>
<li><a href="../../../../afccp/reference/data/values/#data.values.afsc_weight_function"><code>afsc_weight_function</code></a>:
  Generates AFSC weights based on PGL using either 'Linear', 'Square', or 'Custom' mappings.</li>
<li><a href="../../../../afccp/reference/data/values/#data.values.value_function_builder"><code>value_function_builder</code></a>:
  Builds piecewise linear approximations (<code>a</code>, <code>f^hat</code>) of nonlinear value functions.</li>
<li><a href="../../../../afccp/reference/data/values/#data.values.create_segment_dict_from_string"><code>create_segment_dict_from_string</code></a>:
  Parses the string representation of a value function and returns a segment definition.</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_value_and_weight_functions</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update Value and Weight Functions for the Current Value Parameter Set.</span>

<span class="sd">    This function recalculates the cadet weights, AFSC weights, and value function breakpoints</span>
<span class="sd">    (`a` and `f^hat`) for the currently loaded set of value parameters in the instance. It is useful</span>
<span class="sd">    for refreshing value structures after manual edits to the value parameters, such as changes</span>
<span class="sd">    in weight functions or objective targets.</span>

<span class="sd">    It does not add or remove objectives from the current set ‚Äî only updates the internal structure</span>
<span class="sd">    based on the existing configuration. For structural changes (adding/removing objectives), you must</span>
<span class="sd">    reinitialize the value parameter set entirely.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - instance (CadetCareerProblem): The active problem instance containing `parameters` and `value_parameters`.</span>
<span class="sd">    - num_breakpoints (int, optional): Number of breakpoints used to approximate the nonlinear value functions.</span>
<span class="sd">      If not specified, defaults to internal value function settings.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    - dict: The updated `value_parameters` dictionary with recalculated weights and piecewise linear segments.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    instance.value_parameters = update_value_and_weight_functions(instance, num_breakpoints=10)</span>
<span class="sd">    ```</span>

<span class="sd">    See Also:</span>
<span class="sd">    --------</span>
<span class="sd">    - [`cadet_weight_function`](../../../../afccp/reference/data/values/#data.values.cadet_weight_function):</span>
<span class="sd">      Generates cadet weights from merit scores using a user-defined weighting function.</span>
<span class="sd">    - [`afsc_weight_function`](../../../../afccp/reference/data/values/#data.values.afsc_weight_function):</span>
<span class="sd">      Generates AFSC weights based on PGL using either &#39;Linear&#39;, &#39;Square&#39;, or &#39;Custom&#39; mappings.</span>
<span class="sd">    - [`value_function_builder`](../../../../afccp/reference/data/values/#data.values.value_function_builder):</span>
<span class="sd">      Builds piecewise linear approximations (`a`, `f^hat`) of nonlinear value functions.</span>
<span class="sd">    - [`create_segment_dict_from_string`](../../../../afccp/reference/data/values/#data.values.create_segment_dict_from_string):</span>
<span class="sd">      Parses the string representation of a value function and returns a segment definition.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameters</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span>

    <span class="c1"># Determine weights on cadets</span>
    <span class="k">if</span> <span class="s1">&#39;merit_all&#39;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cadet_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit_all&#39;</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cadet_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">])</span>

    <span class="c1"># Determine weights on AFSCs</span>
    <span class="k">if</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Custom&#39;</span><span class="p">:</span>  <span class="c1"># If the AFSC weight function is not &quot;custom&quot;, we regenerate the weights</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">afsc_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;pgl&quot;</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">])</span>

    <span class="c1"># Initialize breakpoints</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">])]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]]</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">])]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]]</span>

    <span class="c1"># Loop through each AFSC</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">afsc</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;afscs&#39;</span><span class="p">][:</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]]):</span>  <span class="c1"># Skip the &quot;unmatched AFSC&quot;: &#39;*&#39;</span>

        <span class="c1"># Loop through each objective</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">objective</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objectives&#39;</span><span class="p">]):</span>

            <span class="c1"># Value Function specific parameters</span>
            <span class="n">actual</span><span class="p">,</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;Merit&#39;</span><span class="p">:</span>
                <span class="n">actual</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]])</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">,</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="s1">&#39;Minority&#39;</span><span class="p">]:</span>
                <span class="n">actual</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="n">objective</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Combined Quota&#39;</span><span class="p">,</span> <span class="s1">&#39;ROTC Quota&#39;</span><span class="p">,</span> <span class="s1">&#39;USAFA Quota&#39;</span><span class="p">,</span> <span class="s1">&#39;OTS Quota&#39;</span><span class="p">]:</span>

                <span class="c1"># Dictionaries for getting the right value for the specific quota objective</span>
                <span class="n">min_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Combined Quota&quot;</span><span class="p">:</span> <span class="s1">&#39;quota_min&#39;</span><span class="p">,</span> <span class="s1">&#39;ROTC Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;rotc_quota&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;USAFA Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;usafa_quota&#39;</span><span class="p">,</span> <span class="s1">&#39;OTS Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;ots_quota&#39;</span><span class="p">}</span>
                <span class="n">target_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Combined Quota&quot;</span><span class="p">:</span> <span class="s1">&#39;quota_d&#39;</span><span class="p">,</span> <span class="s1">&#39;ROTC Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;rotc_quota&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;USAFA Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;usafa_quota&#39;</span><span class="p">,</span> <span class="s1">&#39;OTS Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;ots_quota&#39;</span><span class="p">}</span>
                <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="n">min_dict</span><span class="p">[</span><span class="n">objective</span><span class="p">]][</span><span class="n">j</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

                <span class="c1"># Update minimum values for combined quota objective</span>
                <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">minimum</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">maximum</span><span class="p">)</span>
                <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span>
                <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">target_dict</span><span class="p">[</span><span class="n">objective</span><span class="p">]][</span><span class="n">j</span><span class="p">]</span>

            <span class="c1"># If we care about this objective, we load in its value function breakpoints</span>
            <span class="k">if</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>

                <span class="c1"># Create the non-linear piecewise exponential segment dictionary</span>
                <span class="n">segment_dict</span> <span class="o">=</span> <span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span>
                                                               <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span>
                                                               <span class="n">minimum</span><span class="o">=</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="n">maximum</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="n">actual</span><span class="p">)</span>

                <span class="c1"># Linearize the non-linear function using the specified number of breakpoints</span>
                <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_function_builder</span><span class="p">(</span>
                    <span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>

        <span class="c1"># Scale the objective weights for this AFSC, so they sum to 1</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

    <span class="c1"># Scale the weights across all AFSCs, so they sum to 1</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">vp</span>  <span class="c1"># Return set of value parameters</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.generate_value_parameters_from_defaults" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_value_parameters_from_defaults</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span><span class="p">,</span> <span class="n">generate_afsc_weights</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.generate_value_parameters_from_defaults" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Generates structured value parameters for the assignment problem based on the factory defaults.</p>
<p>This function constructs a complete <code>vp</code> dictionary used by value-focused optimization models.
It loads and modifies default parameters to match the structure and constraints of the current
problem instance, accounting for objective targets, weights, breakpoints, and constraint types.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>If <code>Qual Type</code> is <code>"Tiers"</code>, the function replaces legacy AFOCD objectives with Tiered ones.</li>
<li>If <code>Qual Type</code> is <code>"Relaxed"</code>, Tier objectives are removed.</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use this function when you have:</p>
<ul>
<li>Loaded default value parameters from Excel</li>
<li>A structured cadet-AFSC assignment problem (<code>parameters</code>)</li>
<li>Need to prepare a consistent set of inputs for a value-based matching model (e.g., VFT)</li>
</ul>
</div>
<h4 id="data.values.generate_value_parameters_from_defaults--parameters">Parameters<a class="headerlink" href="#data.values.generate_value_parameters_from_defaults--parameters" title="Permanent link">&para;</a></h4>
<p>parameters : dict
    Dictionary of instance parameters (cadets, AFSCs, quotas, preferences, etc.).</p>
<p>default_value_parameters : dict
    Dictionary of default value parameters imported via <code>default_value_parameters_from_excel</code>.</p>
<p>generate_afsc_weights : bool, optional
    If True (default), compute AFSC weights using the specified function in defaults.
    If False, use static AFSC weights from the defaults (used for "Custom").</p>
<p>num_breakpoints : int, optional
    Number of breakpoints used to discretize value functions. Defaults to what's in defaults.</p>
<p>printing : bool, optional
    Whether to print status updates during generation (default is False).</p>
<h4 id="data.values.generate_value_parameters_from_defaults--returns">Returns<a class="headerlink" href="#data.values.generate_value_parameters_from_defaults--returns" title="Permanent link">&para;</a></h4>
<p>dict
A structured dictionary <code>vp</code> containing:</p>
<ul>
<li><code>objectives</code>: List of active objective names</li>
<li><code>objective_weight</code>: Array of objective weights by AFSC</li>
<li><code>objective_target</code>: Array of target values for each AFSC-objective pair</li>
<li><code>objective_value_min</code>: Text bounds for constrained objectives</li>
<li><code>constraint_type</code>: Type of constraint (e.g., inequality, convex) for each objective</li>
<li><code>afsc_weight</code>, <code>afsc_value_min</code>, <code>cadet_weight</code>, <code>cadets_overall_weight</code>, ...</li>
<li><code>a</code>, <code>f^hat</code>: Piecewise value function breakpoints</li>
<li><code>K^A</code>: Dictionary mapping AFSC index to active objective indices</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_value_parameters_from_defaults</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span><span class="p">,</span> <span class="n">generate_afsc_weights</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                            <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates structured value parameters for the assignment problem based on the factory defaults.</span>

<span class="sd">    This function constructs a complete `vp` dictionary used by value-focused optimization models.</span>
<span class="sd">    It loads and modifies default parameters to match the structure and constraints of the current</span>
<span class="sd">    problem instance, accounting for objective targets, weights, breakpoints, and constraint types.</span>

<span class="sd">    !!! note</span>
<span class="sd">        - If `Qual Type` is `&quot;Tiers&quot;`, the function replaces legacy AFOCD objectives with Tiered ones.</span>
<span class="sd">        - If `Qual Type` is `&quot;Relaxed&quot;`, Tier objectives are removed.</span>

<span class="sd">    !!! note</span>
<span class="sd">        Use this function when you have:</span>

<span class="sd">        - Loaded default value parameters from Excel</span>
<span class="sd">        - A structured cadet-AFSC assignment problem (`parameters`)</span>
<span class="sd">        - Need to prepare a consistent set of inputs for a value-based matching model (e.g., VFT)</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    parameters : dict</span>
<span class="sd">        Dictionary of instance parameters (cadets, AFSCs, quotas, preferences, etc.).</span>

<span class="sd">    default_value_parameters : dict</span>
<span class="sd">        Dictionary of default value parameters imported via `default_value_parameters_from_excel`.</span>

<span class="sd">    generate_afsc_weights : bool, optional</span>
<span class="sd">        If True (default), compute AFSC weights using the specified function in defaults.</span>
<span class="sd">        If False, use static AFSC weights from the defaults (used for &quot;Custom&quot;).</span>

<span class="sd">    num_breakpoints : int, optional</span>
<span class="sd">        Number of breakpoints used to discretize value functions. Defaults to what&#39;s in defaults.</span>

<span class="sd">    printing : bool, optional</span>
<span class="sd">        Whether to print status updates during generation (default is False).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">    A structured dictionary `vp` containing:</span>

<span class="sd">    - `objectives`: List of active objective names</span>
<span class="sd">    - `objective_weight`: Array of objective weights by AFSC</span>
<span class="sd">    - `objective_target`: Array of target values for each AFSC-objective pair</span>
<span class="sd">    - `objective_value_min`: Text bounds for constrained objectives</span>
<span class="sd">    - `constraint_type`: Type of constraint (e.g., inequality, convex) for each objective</span>
<span class="sd">    - `afsc_weight`, `afsc_value_min`, `cadet_weight`, `cadets_overall_weight`, ...</span>
<span class="sd">    - `a`, `f^hat`: Piecewise value function breakpoints</span>
<span class="sd">    - `K^A`: Dictionary mapping AFSC index to active objective indices</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Generating value parameters from defaults...&#39;</span><span class="p">)</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">dvp</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">default_value_parameters</span>

    <span class="c1"># Variable to control if we load in AFOCD value parameters from the default excel workbook or create them here</span>
    <span class="n">init_afocd</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Manipulate AFOCD objectives based on what &quot;system&quot; we&#39;re using (Tiers or &quot;Old&quot;)</span>
    <span class="k">if</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;Qual Type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Tiers&quot;</span><span class="p">:</span>

        <span class="c1"># Weight &quot;Old&quot; AFOCD Objectives at zero (but keep them in because we can select them if needed)</span>
        <span class="k">for</span> <span class="n">objective</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Mandatory&quot;</span><span class="p">,</span> <span class="s2">&quot;Desired&quot;</span><span class="p">,</span> <span class="s2">&quot;Permitted&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]:</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">objective</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">][:,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">]))</span>

        <span class="c1"># Add in &quot;Tier&quot; AFOCD Objectives</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">]:</span>
            <span class="n">objective</span> <span class="o">=</span> <span class="s2">&quot;Tier &quot;</span> <span class="o">+</span> <span class="n">t</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]:</span>
                <span class="n">init_afocd</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># We&#39;re going to initialize the value parameters for AFOCD objectives</span>
                <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">],</span> <span class="n">objective</span><span class="p">])</span>

                <span class="c1"># Add these columns in the other arrays as well</span>
                <span class="k">for</span> <span class="n">vp_key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">,</span> <span class="s2">&quot;objective_value_min&quot;</span><span class="p">,</span> <span class="s2">&quot;constraint_type&quot;</span><span class="p">,</span> <span class="s2">&quot;objective_target&quot;</span><span class="p">,</span>
                               <span class="s2">&quot;value_functions&quot;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">vp_key</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;objective_weight&quot;</span><span class="p">,</span> <span class="s2">&quot;constraint_type&quot;</span><span class="p">,</span> <span class="s2">&quot;objective_target&quot;</span><span class="p">]:</span>
                        <span class="n">new_column</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">new_column</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="s2">&quot;0&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]])</span>
                    <span class="n">dvp</span><span class="p">[</span><span class="n">vp_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">dvp</span><span class="p">[</span><span class="n">vp_key</span><span class="p">],</span> <span class="n">new_column</span><span class="p">))</span>

    <span class="k">elif</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;Qual Type&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Relaxed&quot;</span><span class="p">:</span>

        <span class="c1"># Remove &quot;Tier&quot; AFOCD Objectives</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">]:</span>
            <span class="n">objective</span> <span class="o">=</span> <span class="s2">&quot;Tier &quot;</span> <span class="o">+</span> <span class="n">t</span>
            <span class="k">if</span> <span class="n">objective</span> <span class="ow">in</span> <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]:</span>
                <span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">objective</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">],</span> <span class="n">k</span><span class="p">)</span>

    <span class="c1"># Generate AFOCD value parameters if necessary</span>
    <span class="k">if</span> <span class="n">init_afocd</span><span class="p">:</span>
        <span class="n">dvp</span> <span class="o">=</span> <span class="n">generate_afocd_value_parameters</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">dvp</span><span class="p">)</span>

    <span class="c1"># Objective to parameters lookup dictionary (if the parameter is in &quot;p&quot;, we include the objective)</span>
    <span class="n">objective_lookups</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Norm Score&#39;</span><span class="p">:</span> <span class="s1">&#39;a_pref_matrix&#39;</span><span class="p">,</span> <span class="s1">&#39;Merit&#39;</span><span class="p">:</span> <span class="s1">&#39;merit&#39;</span><span class="p">,</span> <span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">:</span> <span class="s1">&#39;usafa&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;Combined Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;quota_d&#39;</span><span class="p">,</span> <span class="s1">&#39;USAFA Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;usafa_quota&#39;</span><span class="p">,</span> <span class="s1">&#39;ROTC Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;rotc_quota&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;OTS Quota&#39;</span><span class="p">:</span> <span class="s1">&#39;ots_quota&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;Mandatory&#39;</span><span class="p">:</span> <span class="s1">&#39;mandatory&#39;</span><span class="p">,</span> <span class="s1">&#39;Desired&#39;</span><span class="p">:</span> <span class="s1">&#39;desired&#39;</span><span class="p">,</span> <span class="s1">&#39;Permitted&#39;</span><span class="p">:</span> <span class="s1">&#39;permitted&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;Utility&#39;</span><span class="p">:</span> <span class="s1">&#39;utility&#39;</span><span class="p">,</span> <span class="s1">&#39;Male&#39;</span><span class="p">:</span> <span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="s1">&#39;Minority&#39;</span><span class="p">:</span> <span class="s1">&#39;minority&#39;</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">]:</span>  <span class="c1"># Add in AFOCD Degree tiers</span>
        <span class="n">objective_lookups</span><span class="p">[</span><span class="s2">&quot;Tier &quot;</span> <span class="o">+</span> <span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;tier &quot;</span> <span class="o">+</span> <span class="n">t</span>

    <span class="c1"># Add the AFSC objectives that are included in this instance (check corresponding parameters using dict above)</span>
    <span class="n">objectives</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">objective_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">objective</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">objective_lookups</span><span class="p">[</span><span class="n">objective</span><span class="p">]</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
            <span class="n">objectives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">objective</span><span class="p">)</span>
            <span class="n">objective_indices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>

    <span class="c1"># Convert to numpy arrays</span>
    <span class="n">objectives</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span>
    <span class="n">objective_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">objective_indices</span><span class="p">)</span>

    <span class="c1"># Additional information</span>
    <span class="n">afsc_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;complete_afscs&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afscs&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]])</span>
    <span class="n">O</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">num_breakpoints</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">num_breakpoints</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;num_breakpoints&#39;</span><span class="p">]</span>

    <span class="c1"># Initialize set of value p</span>
    <span class="n">vp</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">],</span>
          <span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">],</span>
          <span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">],</span>
          <span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">],</span>
          <span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">],</span>
          <span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">:</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">],</span>
          <span class="s1">&#39;afsc_value_min&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">]),</span> <span class="s1">&#39;cadet_value_min&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;N&quot;</span><span class="p">]),</span>
          <span class="s1">&#39;objective_weight&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">],</span> <span class="n">O</span><span class="p">]),</span> <span class="s1">&#39;afsc_weight&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">]),</span> <span class="s2">&quot;M&quot;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">],</span>
          <span class="s1">&#39;objective_target&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">],</span> <span class="n">O</span><span class="p">]),</span> <span class="s1">&#39;objectives&#39;</span><span class="p">:</span> <span class="n">objectives</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="n">O</span><span class="p">,</span>
          <span class="s1">&#39;objective_value_min&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">20</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">O</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]]),</span>
          <span class="s1">&#39;constraint_type&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;M&quot;</span><span class="p">],</span> <span class="n">O</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">),</span>
          <span class="s1">&#39;num_breakpoints&#39;</span><span class="p">:</span> <span class="n">num_breakpoints</span><span class="p">}</span>

    <span class="c1"># Determine weights on cadets</span>
    <span class="k">if</span> <span class="s1">&#39;merit_all&#39;</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cadet_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit_all&#39;</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cadet_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">],</span> <span class="n">func</span><span class="o">=</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">])</span>

    <span class="c1"># Determine weights on AFSCs</span>
    <span class="k">if</span> <span class="n">generate_afsc_weights</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Custom&#39;</span><span class="p">:</span>  <span class="c1"># We take the AFSC weights directly from the defaults</span>
            <span class="n">generate_afsc_weights</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">afsc_weight_function</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s2">&quot;pgl&quot;</span><span class="p">],</span> <span class="n">func</span><span class="p">)</span>

    <span class="c1"># Initialize breakpoints</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">O</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]]</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[[]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">O</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;J&quot;</span><span class="p">]]</span>

    <span class="c1"># Load value function strings</span>
    <span class="n">value_functions</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][:,</span> <span class="n">objective_indices</span><span class="p">]</span>
    <span class="n">value_functions</span> <span class="o">=</span> <span class="n">value_functions</span><span class="p">[</span><span class="n">afsc_indices</span><span class="p">,</span> <span class="p">:]</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_functions</span>

    <span class="c1"># Initialize objective set</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Loop through each AFSC to load in their value parameters</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">afsc</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;afscs&#39;</span><span class="p">]):</span>

        <span class="k">if</span> <span class="n">afsc</span> <span class="o">!=</span> <span class="s2">&quot;*&quot;</span><span class="p">:</span>

            <span class="c1"># Get location of afsc in the default value parameters (matters if this set of afscs does not match)</span>
            <span class="n">loc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;complete_afscs&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">afsc</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Initially assign all default weights, targets, etc.</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">,</span> <span class="n">objective_indices</span><span class="p">]</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">,</span> <span class="n">objective_indices</span><span class="p">]</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">,</span> <span class="n">objective_indices</span><span class="p">]</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">]</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;constraint_type&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">,</span> <span class="n">objective_indices</span><span class="p">]</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

            <span class="c1"># If we&#39;re not generating afsc weights using the specified weight function...</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">generate_afsc_weights</span><span class="p">:</span>  <span class="c1"># Also, if the weight function is &quot;Custom&quot;</span>
                <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dvp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">][</span><span class="n">loc</span><span class="p">]</span>

            <span class="c1"># Loop through each objective to load their targets</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">objective</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objectives&#39;</span><span class="p">]):</span>

                <span class="n">maximum</span><span class="p">,</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">actual</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;Merit&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;sum_merit&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]</span>
                    <span class="n">actual</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">][</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]])</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;usafa_proportion&#39;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># In case there are no eligible USAFA cadets</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="n">objective</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;Combined Quota&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_d&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>

                    <span class="c1"># Get bounds</span>
                    <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">minimum</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">maximum</span><span class="p">))</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;USAFA Quota&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;usafa_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;usafa_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> \
                                                                    <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;ROTC Quota&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;rotc_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;rotc_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> \
                                                                    <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>
                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;OTS Quota&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;ots_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;ots_quota&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> \
                                                                    <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]))</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;Male&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;male_proportion&#39;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># In case there are no eligible male cadets</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="n">objective</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

                <span class="k">elif</span> <span class="n">objective</span> <span class="o">==</span> <span class="s1">&#39;Minority&#39;</span><span class="p">:</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;minority_proportion&#39;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># In case there are no eligible minority cadets</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">actual</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="n">objective</span><span class="p">][</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

                <span class="c1"># If we care about this objective, we load in its value function breakpoints</span>
                <span class="k">if</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>

                    <span class="c1"># Create the non-linear piecewise exponential segment dictionary</span>
                    <span class="n">segment_dict</span> <span class="o">=</span> <span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">value_functions</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span>
                                                                   <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">],</span>
                                                                   <span class="n">minimum</span><span class="o">=</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="n">maximum</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="n">actual</span><span class="p">)</span>

                    <span class="c1"># Linearize the non-linear function using the specified number of breakpoints</span>
                    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">],</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">value_function_builder</span><span class="p">(</span>
                        <span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>

            <span class="c1"># Scale the objective weights for this AFSC, so they sum to 1</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_weight&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>

    <span class="c1"># Scale the weights across all AFSCs, so they sum to 1</span>
    <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">vp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.default_value_parameters_from_excel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default_value_parameters_from_excel</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.default_value_parameters_from_excel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Loads the factory default value parameters from an Excel file into a structured dictionary.</p>
<p>This function is typically used to initialize a consistent baseline for value-focused models
(such as VFT and GP), including AFSC weights, objective weights/targets, constraint types,
and breakpoint-based value functions.</p>
<p>It pulls multiple sheets from a specified Excel file and organizes them into a structured dictionary
suitable for assignment model optimization.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>filepath</code> must point to a valid Excel file containing the following sheets:</p>
<ul>
<li>"Overall Weights"</li>
<li>"AFSC Weights"</li>
<li>"AFSC Objective Weights"</li>
<li>"AFSC Objective Targets"</li>
<li>"AFSC Objective Min Value"</li>
<li>"Constraint Type"</li>
<li>"Value Functions"</li>
</ul>
</div>
<h4 id="data.values.default_value_parameters_from_excel--parameters">Parameters<a class="headerlink" href="#data.values.default_value_parameters_from_excel--parameters" title="Permanent link">&para;</a></h4>
<p>filepath : str
    Path to the Excel file containing all value parameter sheets.
num_breakpoints : int, optional
    Number of breakpoints to use for piecewise value functions (default is 24).
printing : bool, optional
    Whether to print status messages during execution (default is False).</p>
<h4 id="data.values.default_value_parameters_from_excel--returns">Returns<a class="headerlink" href="#data.values.default_value_parameters_from_excel--returns" title="Permanent link">&para;</a></h4>
<p>dict
A dictionary containing all default value parameter arrays and scalars:</p>
<ul>
<li><code>cadet_weight_function</code>: str</li>
<li><code>afsc_weight_function</code>: str</li>
<li><code>cadets_overall_weight</code>: float</li>
<li><code>afscs_overall_weight</code>: float</li>
<li><code>afsc_weight</code>: np.ndarray</li>
<li><code>objective_weight</code>: np.ndarray</li>
<li><code>objective_target</code>: np.ndarray</li>
<li><code>objective_value_min</code>: np.ndarray</li>
<li><code>constraint_type</code>: np.ndarray</li>
<li><code>value_functions</code>: np.ndarray</li>
<li><code>cadets_overall_value_min</code>: float</li>
<li><code>afscs_overall_value_min</code>: float</li>
<li><code>afsc_value_min</code>: np.ndarray</li>
<li><code>objectives</code>: np.ndarray of objective names</li>
<li><code>complete_afscs</code>: np.ndarray of AFSC names</li>
<li><code>num_breakpoints</code>: int (copied from input)</li>
<li><code>M</code>: int (number of AFSCs)</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">default_value_parameters_from_excel</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads the factory default value parameters from an Excel file into a structured dictionary.</span>

<span class="sd">    This function is typically used to initialize a consistent baseline for value-focused models</span>
<span class="sd">    (such as VFT and GP), including AFSC weights, objective weights/targets, constraint types,</span>
<span class="sd">    and breakpoint-based value functions.</span>

<span class="sd">    It pulls multiple sheets from a specified Excel file and organizes them into a structured dictionary</span>
<span class="sd">    suitable for assignment model optimization.</span>

<span class="sd">    !!! note</span>
<span class="sd">        The `filepath` must point to a valid Excel file containing the following sheets:</span>

<span class="sd">        - &quot;Overall Weights&quot;</span>
<span class="sd">        - &quot;AFSC Weights&quot;</span>
<span class="sd">        - &quot;AFSC Objective Weights&quot;</span>
<span class="sd">        - &quot;AFSC Objective Targets&quot;</span>
<span class="sd">        - &quot;AFSC Objective Min Value&quot;</span>
<span class="sd">        - &quot;Constraint Type&quot;</span>
<span class="sd">        - &quot;Value Functions&quot;</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath : str</span>
<span class="sd">        Path to the Excel file containing all value parameter sheets.</span>
<span class="sd">    num_breakpoints : int, optional</span>
<span class="sd">        Number of breakpoints to use for piecewise value functions (default is 24).</span>
<span class="sd">    printing : bool, optional</span>
<span class="sd">        Whether to print status messages during execution (default is False).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dict</span>
<span class="sd">    A dictionary containing all default value parameter arrays and scalars:</span>

<span class="sd">    - `cadet_weight_function`: str</span>
<span class="sd">    - `afsc_weight_function`: str</span>
<span class="sd">    - `cadets_overall_weight`: float</span>
<span class="sd">    - `afscs_overall_weight`: float</span>
<span class="sd">    - `afsc_weight`: np.ndarray</span>
<span class="sd">    - `objective_weight`: np.ndarray</span>
<span class="sd">    - `objective_target`: np.ndarray</span>
<span class="sd">    - `objective_value_min`: np.ndarray</span>
<span class="sd">    - `constraint_type`: np.ndarray</span>
<span class="sd">    - `value_functions`: np.ndarray</span>
<span class="sd">    - `cadets_overall_value_min`: float</span>
<span class="sd">    - `afscs_overall_value_min`: float</span>
<span class="sd">    - `afsc_value_min`: np.ndarray</span>
<span class="sd">    - `objectives`: np.ndarray of objective names</span>
<span class="sd">    - `complete_afscs`: np.ndarray of AFSC names</span>
<span class="sd">    - `num_breakpoints`: int (copied from input)</span>
<span class="sd">    - `M`: int (number of AFSCs)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Importing default value parameters...&#39;</span><span class="p">)</span>

    <span class="c1"># Get dataframes</span>
    <span class="n">overall_weights_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Overall Weights&quot;</span><span class="p">)</span>
    <span class="n">afsc_weights_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;AFSC Weights&quot;</span><span class="p">)</span>
    <span class="n">afsc_objective_weights_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;AFSC Objective Weights&quot;</span><span class="p">)</span>
    <span class="n">afsc_objective_targets_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;AFSC Objective Targets&quot;</span><span class="p">)</span>
    <span class="n">afsc_objective_value_min_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;AFSC Objective Min Value&quot;</span><span class="p">)</span>
    <span class="n">afsc_objective_convex_constraints_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Constraint Type&quot;</span><span class="p">)</span>
    <span class="n">afsc_value_functions_df</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">globals</span><span class="o">.</span><span class="n">import_data</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Value Functions&quot;</span><span class="p">)</span>
    <span class="n">objectives</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_objective_weights_df</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">1</span><span class="p">:])</span>
    <span class="n">default_value_parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;Cadet Weight Function&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSC Weight Function&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;Cadets Weight&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSCs Weight&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;afsc_weight&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSC Swing Weight&#39;</span><span class="p">]),</span>
                                <span class="s1">&#39;objective_weight&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_objective_weights_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span>
                                                             <span class="mi">1</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]),</span>
                                <span class="s1">&#39;objective_target&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                                    <span class="n">afsc_objective_targets_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]),</span>
                                <span class="s1">&#39;objective_value_min&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                                    <span class="n">afsc_objective_value_min_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]),</span>
                                <span class="s1">&#39;constraint_type&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                                    <span class="n">afsc_objective_convex_constraints_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]),</span>
                                <span class="s1">&#39;value_functions&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_value_functions_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:(</span><span class="nb">len</span><span class="p">(</span><span class="n">objectives</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]),</span>
                                <span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;Cadets Min Value&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">:</span> <span class="n">overall_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSCs Min Value&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                                <span class="s1">&#39;afsc_value_min&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSC Min Value&#39;</span><span class="p">]),</span>
                                <span class="s1">&#39;objectives&#39;</span><span class="p">:</span> <span class="n">objectives</span><span class="p">,</span>
                                <span class="s1">&#39;complete_afscs&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">afsc_weights_df</span><span class="p">[</span><span class="s1">&#39;AFSC&#39;</span><span class="p">]),</span>
                                <span class="s1">&#39;num_breakpoints&#39;</span><span class="p">:</span> <span class="n">num_breakpoints</span><span class="p">,</span> <span class="s2">&quot;M&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">afsc_weights_df</span><span class="p">)}</span>

    <span class="k">return</span> <span class="n">default_value_parameters</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.cadet_weight_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cadet_weight_function</span><span class="p">(</span><span class="n">merit</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s1">&#39;Curve_1&#39;</span><span class="p">)</span></code>

<a href="#data.values.cadet_weight_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Take in a merit array and generate cadet weights depending on function specified</p>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">cadet_weight_function</span><span class="p">(</span><span class="n">merit</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s2">&quot;Curve_1&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Take in a merit array and generate cadet weights depending on function specified</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Number of Cadets</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">merit</span><span class="p">)</span>

    <span class="c1"># Generate Swing Weights based on function</span>
    <span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Linear&#39;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merit</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s2">&quot;Direct&quot;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">merit</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Curve_1&#39;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merit</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Curve_2&#39;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.7</span><span class="p">)))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merit</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Equal&#39;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Exponential Function</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.3</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">merit</span><span class="p">])</span>

    <span class="c1"># Normalize weights and return them</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">swing_weights</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">swing_weights</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">weights</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.afsc_weight_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">afsc_weight_function</span><span class="p">(</span><span class="n">quota</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s1">&#39;Curve&#39;</span><span class="p">)</span></code>

<a href="#data.values.afsc_weight_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Take in an AFSC quota array and generate AFSC weights depending on function specified</p>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">afsc_weight_function</span><span class="p">(</span><span class="n">quota</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="s2">&quot;Curve&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Take in an AFSC quota array and generate AFSC weights depending on function specified</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Number of AFSCs</span>
    <span class="n">M</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">quota</span><span class="p">)</span>

    <span class="c1"># Scale quota to be 0-1 (referencing biggest AFSC)</span>
    <span class="n">quota_scale</span> <span class="o">=</span> <span class="n">quota</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">quota</span><span class="p">)</span>

    <span class="c1"># Generate Swing Weights based on function</span>
    <span class="k">if</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Linear&#39;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mi">10</span> <span class="o">*</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">quota_scale</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;Direct&quot;</span><span class="p">,</span> <span class="s2">&quot;Size&quot;</span><span class="p">]:</span>  <span class="c1"># Direct relationship between size and importance</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">quota</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s2">&quot;Piece&quot;</span><span class="p">:</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">quota</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">200</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="mi">150</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.9</span>
            <span class="k">elif</span> <span class="mi">100</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">150</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.8</span>
            <span class="k">elif</span> <span class="mi">50</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.7</span>
            <span class="k">elif</span> <span class="mi">25</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">50</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.6</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">swing_weights</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Curve_1&#39;</span><span class="p">:</span>  <span class="c1"># Sigmoid Function</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">quota_scale</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Curve_2&#39;</span><span class="p">:</span>  <span class="c1"># Sigmoid Function</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">12</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">quota_scale</span><span class="p">])</span>
    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="s1">&#39;Equal&#39;</span><span class="p">:</span>  <span class="c1"># They&#39;re all the same</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Exponential Function</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.3</span>
        <span class="n">swing_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">quota_scale</span><span class="p">])</span>

    <span class="c1"># Scale weights and return them</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="n">swing_weights</span> <span class="o">/</span> <span class="nb">sum</span><span class="p">(</span><span class="n">swing_weights</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">weights</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.create_segment_dict_from_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">multiplier</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">minimum</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#data.values.create_segment_dict_from_string" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Converts a value function string into a segment dictionary.</p>
<p>Args:</p>
<ul>
<li>vf_string (str): Value function string.</li>
<li>target (float, optional): Target objective measure.</li>
<li>maximum (float, optional): Maximum objective measure.</li>
<li>actual (float, optional): Proportion of eligible cadets.</li>
<li>multiplier (bool, optional): Specifies whether the target values are multiplied by a scalar for quota objectives.</li>
<li>minimum (float, optional): Minimum objective measure.</li>
</ul>
<p>Returns:
    segment_dict (dict): A dictionary representing the segments of the value function.</p>
<p>Notes:</p>
<ul>
<li>The function assumes that the value function string follows a specific format.</li>
<li>The segment dictionary contains keys representing the segment number and values representing the segment details.</li>
<li>
<p>Each segment is represented by a dictionary with the following keys:</p>
<ul>
<li>'x1': The starting point on the x-axis.</li>
<li>'y1': The starting point on the y-axis.</li>
<li>'x2': The ending point on the x-axis.</li>
<li>'y2': The ending point on the y-axis.</li>
<li>'rho': The value of the rho parameter for the segment.</li>
</ul>
</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">multiplier</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">minimum</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts a value function string into a segment dictionary.</span>

<span class="sd">    Args:</span>

<span class="sd">    - vf_string (str): Value function string.</span>
<span class="sd">    - target (float, optional): Target objective measure.</span>
<span class="sd">    - maximum (float, optional): Maximum objective measure.</span>
<span class="sd">    - actual (float, optional): Proportion of eligible cadets.</span>
<span class="sd">    - multiplier (bool, optional): Specifies whether the target values are multiplied by a scalar for quota objectives.</span>
<span class="sd">    - minimum (float, optional): Minimum objective measure.</span>

<span class="sd">    Returns:</span>
<span class="sd">        segment_dict (dict): A dictionary representing the segments of the value function.</span>

<span class="sd">    Notes:</span>

<span class="sd">    - The function assumes that the value function string follows a specific format.</span>
<span class="sd">    - The segment dictionary contains keys representing the segment number and values representing the segment details.</span>
<span class="sd">    - Each segment is represented by a dictionary with the following keys:</span>

<span class="sd">        - &#39;x1&#39;: The starting point on the x-axis.</span>
<span class="sd">        - &#39;y1&#39;: The starting point on the y-axis.</span>
<span class="sd">        - &#39;x2&#39;: The ending point on the x-axis.</span>
<span class="sd">        - &#39;y2&#39;: The ending point on the y-axis.</span>
<span class="sd">        - &#39;rho&#39;: The value of the rho parameter for the segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Collect the kind of function we&#39;re creating</span>
    <span class="n">split_list</span> <span class="o">=</span> <span class="n">vf_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
    <span class="n">f_type</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">f_type</span> <span class="o">==</span> <span class="s1">&#39;Balance&#39;</span><span class="p">:</span>

        <span class="c1"># Receive values from string</span>
        <span class="n">f_param_list</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">split_list</span> <span class="o">=</span> <span class="n">f_param_list</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">left_bm</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">right_bm</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho3</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho4</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">buffer_y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">actual</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">actual</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">left_bm</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="n">right_bm</span>
        <span class="k">elif</span> <span class="n">actual</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="n">left_bm</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual</span> <span class="o">-</span> <span class="n">target</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">right_bm</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">left_margin</span> <span class="o">=</span> <span class="n">left_bm</span>
            <span class="n">right_margin</span> <span class="o">=</span> <span class="n">right_bm</span>

        <span class="c1"># Build segments</span>
        <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">left_margin</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho1</span><span class="p">},</span>
                        <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">left_margin</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="n">rho2</span><span class="p">},</span>
                        <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="n">rho3</span><span class="p">},</span>
                        <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="nb">round</span><span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="n">right_margin</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho4</span><span class="p">}}</span>

    <span class="k">elif</span> <span class="n">f_type</span> <span class="o">==</span> <span class="s1">&#39;Quota_Normal&#39;</span><span class="p">:</span>  <span class="c1"># &quot;Method 1&quot; as described in thesis</span>

        <span class="c1"># Receive values from string</span>
        <span class="n">f_param_list</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">split_list</span> <span class="o">=</span> <span class="n">f_param_list</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">domain_max</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>
        <span class="n">rho2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>
        <span class="k">if</span> <span class="n">multiplier</span><span class="p">:</span>
            <span class="n">maximum</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">target</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">)</span>
        <span class="n">real_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="p">(</span><span class="n">maximum</span> <span class="o">-</span> <span class="n">target</span><span class="p">)</span> <span class="o">+</span> <span class="n">target</span> <span class="o">*</span> <span class="n">domain_max</span><span class="p">),</span> <span class="n">maximum</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Build segments</span>
        <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho1</span><span class="p">},</span>
                        <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">real_max</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho2</span><span class="p">}}</span>

    <span class="k">elif</span> <span class="n">f_type</span> <span class="o">==</span> <span class="s1">&#39;Quota_Over&#39;</span><span class="p">:</span>  <span class="c1"># &quot;Method 2&quot; as described in thesis</span>

        <span class="c1"># Receive values from string</span>
        <span class="n">f_param_list</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">split_list</span> <span class="o">=</span> <span class="n">f_param_list</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">domain_max</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>
        <span class="n">rho2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>
        <span class="n">rho3</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>
        <span class="n">buffer_y</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">multiplier</span><span class="p">:</span>
            <span class="n">maximum</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">target</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">)</span>
            <span class="n">actual</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">target</span> <span class="o">*</span> <span class="n">actual</span><span class="p">)</span>
        <span class="n">real_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">target</span> <span class="o">+</span> <span class="p">(</span><span class="n">actual</span> <span class="o">-</span> <span class="n">target</span><span class="p">)</span> <span class="o">+</span> <span class="n">target</span> <span class="o">*</span> <span class="n">domain_max</span><span class="p">),</span> <span class="n">actual</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="c1"># Build segments</span>
        <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho1</span><span class="p">},</span>
                        <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">actual</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="n">rho2</span><span class="p">},</span>
                        <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">actual</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">buffer_y</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">real_max</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho3</span><span class="p">}}</span>

    <span class="k">elif</span> <span class="n">f_type</span> <span class="o">==</span> <span class="s1">&#39;Quota_Direct&#39;</span><span class="p">:</span>  <span class="c1"># The benefit of value functions is here! Captures ambiguity of PGL/constraints</span>

        <span class="c1"># Receive values from string</span>
        <span class="n">f_param_list</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">split_list</span> <span class="o">=</span> <span class="n">f_param_list</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">domain_max</span> <span class="o">=</span> <span class="mf">1.05</span>  <span class="c1"># Arbitrary max (this doesn&#39;t really matter since we constrain quota anyway)</span>
        <span class="n">rho1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho3</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">rho4</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="n">y2</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

        <span class="k">assert</span> <span class="n">rho1</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;rho1 must be greater than 0 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">rho1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="n">rho2</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;rho2 must be greater than 0 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">rho2</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="n">rho3</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;rho3 must be greater than 0 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">rho3</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="n">rho4</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;rho4 must be greater than 0 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">rho4</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">y1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;y1 must be between 0 and 1 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">y1</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">assert</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">y2</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;y2 must be between 0 and 1 for a Quota_Direct value function, got: </span><span class="si">{</span><span class="n">y2</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Build segments</span>
        <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">minimum</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">maximum</span><span class="p">:</span>
                <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho1</span> <span class="o">*</span> <span class="n">target</span><span class="p">)},</span>
                                <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho4</span> <span class="o">*</span> <span class="p">(</span><span class="n">maximum</span> <span class="o">-</span> <span class="n">target</span><span class="p">))}}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho1</span> <span class="o">*</span> <span class="n">target</span><span class="p">)},</span>
                                <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">y2</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">rho3</span> <span class="o">*</span> <span class="p">(</span><span class="n">maximum</span> <span class="o">-</span> <span class="n">target</span><span class="p">))},</span>
                                <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho4</span> <span class="o">*</span> <span class="p">(</span><span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span> <span class="o">-</span> <span class="n">maximum</span><span class="p">))}}</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">maximum</span><span class="p">:</span>
                <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">minimum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho1</span> <span class="o">*</span> <span class="p">(</span><span class="n">minimum</span> <span class="o">-</span> <span class="mi">0</span><span class="p">))},</span>
                                <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">minimum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">rho2</span> <span class="o">*</span> <span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">minimum</span><span class="p">))},</span>
                                <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho4</span> <span class="o">*</span> <span class="p">(</span><span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span> <span class="o">-</span> <span class="n">maximum</span><span class="p">))}}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">minimum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho1</span> <span class="o">*</span> <span class="p">(</span><span class="n">minimum</span> <span class="o">-</span> <span class="mi">0</span><span class="p">))},</span>
                                <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">minimum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">rho2</span> <span class="o">*</span> <span class="p">(</span><span class="n">target</span> <span class="o">-</span> <span class="n">minimum</span><span class="p">))},</span>
                                <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="n">y2</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">rho3</span> <span class="o">*</span> <span class="p">(</span><span class="n">maximum</span> <span class="o">-</span> <span class="n">target</span><span class="p">))},</span>
                                <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                                    <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="p">(</span><span class="n">rho4</span> <span class="o">*</span> <span class="p">(</span><span class="n">domain_max</span> <span class="o">*</span> <span class="n">maximum</span> <span class="o">-</span> <span class="n">maximum</span><span class="p">))}}</span>

    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Must be a &quot;Min Increasing/Decreasing&quot; function</span>

        <span class="c1"># Receive values from string</span>
        <span class="n">f_param_list</span> <span class="o">=</span> <span class="n">split_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">split_list</span> <span class="o">=</span> <span class="n">f_param_list</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">split_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="n">target</span>  <span class="c1"># Multiplying by the target normalizes the domain space</span>

        <span class="c1"># Build segments</span>
        <span class="k">if</span> <span class="n">f_type</span> <span class="o">==</span> <span class="s1">&#39;Min Increasing&#39;</span><span class="p">:</span>
            <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho</span><span class="p">}}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="n">rho</span><span class="p">}}</span>

    <span class="k">return</span> <span class="n">segment_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.value_function_builder" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">derivative_locations</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.value_function_builder" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Build Piecewise Linear Value Function from Exponential Segments.</p>
<p>This function takes a dictionary of exponential segment definitions and returns a pair of
arrays representing the piecewise linear approximation of the nonlinear value function:
one for the x-axis breakpoints (<code>a</code>) and one for the corresponding values (<code>f^hat</code>).</p>
<p>The segment dictionary defines the start and end points, curvature (via <code>rho</code>), and optionally
the number of breakpoints to use for each segment. The function supports both fixed-interval
spacing along the x-axis and derivative-based breakpoint spacing.</p>
<h4 id="data.values.value_function_builder--parameters">Parameters:<a class="headerlink" href="#data.values.value_function_builder--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>segment_dict (dict, optional): A dictionary specifying exponential segments. Each key maps to a sub-dictionary with:</p>
<ul>
<li><code>'x1'</code>, <code>'y1'</code>: Starting point of the segment</li>
<li><code>'x2'</code>, <code>'y2'</code>: Ending point of the segment</li>
<li><code>'rho'</code>: Curvature parameter controlling steepness of the segment</li>
<li><code>'r'</code> (optional): Number of breakpoints for this segment</li>
<li>num_breakpoints (int, optional): Overrides the per-segment breakpoint count. Distributes breakpoints equally if specified.</li>
<li>derivative_locations (bool, optional): If True, breakpoints are spaced using derivative intervals
  instead of uniform spacing on the x-axis.</li>
</ul>
</li>
</ul>
<h4 id="data.values.value_function_builder--returns">Returns:<a class="headerlink" href="#data.values.value_function_builder--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>a (np.ndarray): Array of breakpoint locations (measures) on the x-axis.</li>
<li>fhat (np.ndarray): Array of function values at those breakpoint locations.</li>
</ul>
<h4 id="data.values.value_function_builder--examples">Examples:<a class="headerlink" href="#data.values.value_function_builder--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">segment_def</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">a</span><span class="p">,</span> <span class="n">fhat</span> <span class="o">=</span> <span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_def</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">derivative_locations</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h4 id="data.values.value_function_builder--see-also">See Also:<a class="headerlink" href="#data.values.value_function_builder--see-also" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="../../../../afccp/reference/data/values/#data.values.exponential_function"><code>exponential_function</code></a>:
  Computes the value for an exponential segment at a given x.</li>
<li><a href="../../../../afccp/reference/data/values/#data.values.derivative_function"><code>derivative_function</code></a>:
  Returns the derivative of the exponential function at a given x.</li>
<li><a href="../../../../afccp/reference/data/values/#data.values.inverse_derivative_function"><code>inverse_derivative_function</code></a>:
  Finds the x-value corresponding to a specific derivative magnitude for exponential functions.</li>
</ul>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">derivative_locations</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build Piecewise Linear Value Function from Exponential Segments.</span>

<span class="sd">    This function takes a dictionary of exponential segment definitions and returns a pair of</span>
<span class="sd">    arrays representing the piecewise linear approximation of the nonlinear value function:</span>
<span class="sd">    one for the x-axis breakpoints (`a`) and one for the corresponding values (`f^hat`).</span>

<span class="sd">    The segment dictionary defines the start and end points, curvature (via `rho`), and optionally</span>
<span class="sd">    the number of breakpoints to use for each segment. The function supports both fixed-interval</span>
<span class="sd">    spacing along the x-axis and derivative-based breakpoint spacing.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - segment_dict (dict, optional): A dictionary specifying exponential segments. Each key maps to a sub-dictionary with:</span>

<span class="sd">        - `&#39;x1&#39;`, `&#39;y1&#39;`: Starting point of the segment</span>
<span class="sd">        - `&#39;x2&#39;`, `&#39;y2&#39;`: Ending point of the segment</span>
<span class="sd">        - `&#39;rho&#39;`: Curvature parameter controlling steepness of the segment</span>
<span class="sd">        - `&#39;r&#39;` (optional): Number of breakpoints for this segment</span>
<span class="sd">    - num_breakpoints (int, optional): Overrides the per-segment breakpoint count. Distributes breakpoints equally if specified.</span>
<span class="sd">    - derivative_locations (bool, optional): If True, breakpoints are spaced using derivative intervals</span>
<span class="sd">      instead of uniform spacing on the x-axis.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    - a (np.ndarray): Array of breakpoint locations (measures) on the x-axis.</span>
<span class="sd">    - fhat (np.ndarray): Array of function values at those breakpoint locations.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    segment_def = {</span>
<span class="sd">        1: {&#39;x1&#39;: 0, &#39;y1&#39;: 0, &#39;x2&#39;: 0.5, &#39;y2&#39;: 1, &#39;rho&#39;: 0.1, &#39;r&#39;: 10},</span>
<span class="sd">        2: {&#39;x1&#39;: 0.5, &#39;y1&#39;: 1, &#39;x2&#39;: 1, &#39;y2&#39;: 0, &#39;rho&#39;: -0.1, &#39;r&#39;: 10}</span>
<span class="sd">    }</span>
<span class="sd">    a, fhat = value_function_builder(segment_def, num_breakpoints=20, derivative_locations=False)</span>
<span class="sd">    ```</span>

<span class="sd">    See Also:</span>
<span class="sd">    --------</span>
<span class="sd">    - [`exponential_function`](../../../../afccp/reference/data/values/#data.values.exponential_function):</span>
<span class="sd">      Computes the value for an exponential segment at a given x.</span>
<span class="sd">    - [`derivative_function`](../../../../afccp/reference/data/values/#data.values.derivative_function):</span>
<span class="sd">      Returns the derivative of the exponential function at a given x.</span>
<span class="sd">    - [`inverse_derivative_function`](../../../../afccp/reference/data/values/#data.values.inverse_derivative_function):</span>
<span class="sd">      Finds the x-value corresponding to a specific derivative magnitude for exponential functions.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">segment_dict</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">segment_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
                        <span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
                        <span class="mi">3</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
                        <span class="mi">4</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s1">&#39;y1&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;rho&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}</span>

    <span class="c1"># Collect segments</span>
    <span class="n">segments</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="n">num_segments</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">segments</span><span class="p">)</span>

    <span class="c1"># We need number of breakpoints for each exponential segment</span>
    <span class="k">if</span> <span class="n">num_breakpoints</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;r&#39;</span> <span class="ow">in</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>

            <span class="n">num_breakpoints</span> <span class="o">+=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_num_breakpoints</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;r&#39;</span> <span class="ow">in</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">/</span> <span class="n">num_segments</span><span class="p">),</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">/</span> <span class="n">num_segments</span><span class="p">)</span>
            <span class="n">new_num_breakpoints</span> <span class="o">+=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span>
        <span class="n">num_breakpoints</span> <span class="o">=</span> <span class="n">new_num_breakpoints</span>

    <span class="c1"># Number of breakpoints are determined based on which kinds of exponential segments we&#39;re using</span>
    <span class="n">add_bp</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">extra</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">insert</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">num_segments</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="n">segment_dict</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;x2&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;x1&#39;</span><span class="p">])</span> <span class="ow">or</span> <span class="n">num_segments</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">num_segments</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">segment_dict</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;x2&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">add_bp</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">num_segments</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">segment_dict</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;x1&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">fhat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">insert</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">num_breakpoints</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Loop through each exponential segment</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>

        <span class="c1"># Load variables</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;x1&#39;</span><span class="p">]</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;y1&#39;</span><span class="p">]</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;x2&#39;</span><span class="p">]</span>
        <span class="n">y2</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;y2&#39;</span><span class="p">]</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;rho&#39;</span><span class="p">]</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">][</span><span class="s1">&#39;r&#39;</span><span class="p">]</span>

        <span class="c1"># Necessary operations</span>
        <span class="n">x_diff</span> <span class="o">=</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span>
        <span class="n">y_diff</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span>
        <span class="n">x_over_y</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x_diff</span> <span class="o">/</span> <span class="n">y_diff</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">y_diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">positive</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">positive</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">derivative_locations</span><span class="p">:</span>  <span class="c1"># We place x breakpoints at fixed intervals based on derivative</span>
            <span class="n">y_prime_i</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">derivative_function</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">x_over_y</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">y_prime_f</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">derivative_function</span><span class="p">(</span><span class="n">x_over_y</span><span class="p">,</span> <span class="n">x_over_y</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
            <span class="n">y_prime_step</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_prime_f</span> <span class="o">-</span> <span class="n">y_prime_i</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span>
            <span class="n">y_prime_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">y_prime_i</span> <span class="o">+</span> <span class="n">y_prime_step</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)])</span>
            <span class="n">x_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
                <span class="n">inverse_derivative_function</span><span class="p">(</span><span class="n">y_prime</span><span class="p">,</span> <span class="n">x_over_y</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">)</span> <span class="k">for</span> <span class="n">y_prime</span> <span class="ow">in</span> <span class="n">y_prime_arr</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>  <span class="c1"># We place them at fixed intervals based on x</span>
            <span class="n">x_arr</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">r</span><span class="p">)</span> <span class="o">*</span> <span class="n">x_over_y</span>

        <span class="n">vals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">exponential_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x_over_y</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">x_arr</span><span class="p">])</span>

        <span class="c1"># If we need to add extra breakpoints</span>
        <span class="k">if</span> <span class="n">y1</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">extra</span><span class="p">:</span>
            <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x1</span>
            <span class="n">fhat</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">insert</span><span class="p">:</span>
            <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">x1</span>
            <span class="n">fhat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span> <span class="o">+</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">+</span> <span class="n">x_arr</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_diff</span><span class="p">)</span>
            <span class="n">fhat</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span> <span class="o">+</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">vals</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_diff</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">+</span> <span class="n">x_arr</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_diff</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">positive</span><span class="p">:</span>
                <span class="n">fhat</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">+</span> <span class="n">vals</span> <span class="o">*</span> <span class="n">y_diff</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">fhat</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">vals</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y_diff</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="n">r</span>

            <span class="k">if</span> <span class="n">add_bp</span><span class="p">:</span>
                <span class="n">a</span><span class="p">[</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">fhat</span><span class="p">[</span><span class="n">r</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># Return breakpoint measures and values used in value function</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">fhat</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">,</span> <span class="n">fhat</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.exponential_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exponential_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_i</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">)</span></code>

<a href="#data.values.exponential_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>This function returns the value obtained from the specified exponential value function</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>current x</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>x_i</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>initial x from segment</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>x_f</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>final x from segment</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rho</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>rho parameter</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>positive</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if we have an increasing function or not</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>current y</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">exponential_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_i</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function returns the value obtained from the specified exponential value function</span>
<span class="sd">    :param x: current x</span>
<span class="sd">    :param x_i: initial x from segment</span>
<span class="sd">    :param x_f: final x from segment</span>
<span class="sd">    :param rho: rho parameter</span>
<span class="sd">    :param positive: if we have an increasing function or not</span>
<span class="sd">    :return: current y</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">positive</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x_i</span><span class="p">)</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">/</span> \
            <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x_f</span> <span class="o">-</span> <span class="n">x_i</span><span class="p">)</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>

        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x_f</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">/</span> \
            <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x_f</span> <span class="o">-</span> <span class="n">x_i</span><span class="p">)</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">y</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.derivative_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">derivative_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">)</span></code>

<a href="#data.values.derivative_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>This function calculates the derivative of x for some point
along a line segment</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>some x</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>x_f</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>final x from segment</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rho</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>rho parameter</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>positive</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if we have an increasing function or not</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>y_prime</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">derivative_function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function calculates the derivative of x for some point</span>
<span class="sd">    along a line segment</span>
<span class="sd">    :param x: some x</span>
<span class="sd">    :param x_f: final x from segment</span>
<span class="sd">    :param rho: rho parameter</span>
<span class="sd">    :param positive: if we have an increasing function or not</span>
<span class="sd">    :return: y_prime</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">positive</span><span class="p">:</span>
        <span class="n">y_prime</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x_f</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">y_prime</span> <span class="o">=</span> <span class="o">-</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x_f</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">rho</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x_f</span> <span class="o">/</span> <span class="n">rho</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">y_prime</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.inverse_derivative_function" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">inverse_derivative_function</span><span class="p">(</span><span class="n">y_prime</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">)</span></code>

<a href="#data.values.inverse_derivative_function" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>This function calculates the position of x based on its derivative</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>y_prime</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>first derivative of x</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>x_f</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>final x from segment</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rho</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>rho parameter</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>positive</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if we have an increasing function or not</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>x</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">inverse_derivative_function</span><span class="p">(</span><span class="n">y_prime</span><span class="p">,</span> <span class="n">x_f</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">positive</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function calculates the position of x based on its derivative</span>
<span class="sd">    :param y_prime: first derivative of x</span>
<span class="sd">    :param x_f: final x from segment</span>
<span class="sd">    :param rho: rho parameter</span>
<span class="sd">    :param positive: if we have an increasing function or not</span>
<span class="sd">    :return: x</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">positive</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="n">rho</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">rho</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x_f</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">*</span> <span class="n">y_prime</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">x_f</span> <span class="o">+</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="o">-</span><span class="n">rho</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x_f</span> <span class="o">/</span> <span class="n">rho</span><span class="p">))</span> <span class="o">*</span> <span class="n">y_prime</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">x</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.condense_value_functions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">condense_value_functions</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span><span class="p">)</span></code>

<a href="#data.values.condense_value_functions" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Remove Redundant Zero Segments in Value Functions.</p>
<p>This procedure cleans up the value function breakpoints (<code>a</code>, <code>f^hat</code>) by removing
unnecessary internal segments where the value remains zero, which do not affect
the overall utility calculation but may clutter the optimization model.</p>
<h4 id="data.values.condense_value_functions--parameters">Parameters:<a class="headerlink" href="#data.values.condense_value_functions--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>parameters (dict): Dictionary of cadet/AFSC parameters (e.g., <code>J</code>, <code>K^A</code>, etc.).</li>
<li>
<p>value_parameters (dict): Dictionary of value and weight parameter arrays, including:</p>
<ul>
<li><code>a</code>: Breakpoint measures (list of lists by AFSC and objective index)</li>
<li><code>f^hat</code>: Breakpoint values (list of lists by AFSC and objective index)</li>
</ul>
</li>
</ul>
<h4 id="data.values.condense_value_functions--returns">Returns:<a class="headerlink" href="#data.values.condense_value_functions--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>value_parameters (dict): Updated dictionary with condensed <code>a</code> and <code>f^hat</code> arrays,
  where redundant zero-valued breakpoints have been removed.</li>
</ul>
<h4 id="data.values.condense_value_functions--examples">Examples:<a class="headerlink" href="#data.values.condense_value_functions--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">new_value_parameters</span> <span class="o">=</span> <span class="n">condense_value_functions</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">condense_value_functions</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Remove Redundant Zero Segments in Value Functions.</span>

<span class="sd">    This procedure cleans up the value function breakpoints (`a`, `f^hat`) by removing</span>
<span class="sd">    unnecessary internal segments where the value remains zero, which do not affect</span>
<span class="sd">    the overall utility calculation but may clutter the optimization model.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - parameters (dict): Dictionary of cadet/AFSC parameters (e.g., `J`, `K^A`, etc.).</span>
<span class="sd">    - value_parameters (dict): Dictionary of value and weight parameter arrays, including:</span>

<span class="sd">        - `a`: Breakpoint measures (list of lists by AFSC and objective index)</span>
<span class="sd">        - `f^hat`: Breakpoint values (list of lists by AFSC and objective index)</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    - value_parameters (dict): Updated dictionary with condensed `a` and `f^hat` arrays,</span>
<span class="sd">      where redundant zero-valued breakpoints have been removed.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    new_value_parameters = condense_value_functions(parameters, value_parameters)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span><span class="p">,</span> <span class="n">vp</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">value_parameters</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J&#39;</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
            <span class="n">fhat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>

            <span class="c1"># Find unnecessary zeros</span>
            <span class="n">zero_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">fhat</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">last_i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">removals</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">zero_indices</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">zero_indices</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">!=</span> <span class="n">last_i</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">removals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="c1"># Remove unnecessary zeros</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">removals</span><span class="p">)</span>
            <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;f^hat&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">fhat</span><span class="p">,</span> <span class="n">removals</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">vp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.compare_value_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compare_value_parameters</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">vp1</span><span class="p">,</span> <span class="n">vp2</span><span class="p">,</span> <span class="n">vp1name</span><span class="p">,</span> <span class="n">vp2name</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#data.values.compare_value_parameters" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Compare Two Sets of Value Parameters for Equality.</p>
<p>This function compares two dictionaries of value parameters used in cadet-AFSC utility modeling.
It checks structural consistency (array shapes) and content equality across keys that define
objective weights, constraints, value functions, and other relevant configurations.</p>
<h4 id="data.values.compare_value_parameters--parameters">Parameters:<a class="headerlink" href="#data.values.compare_value_parameters--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>parameters (dict): The shared cadet-AFSC parameter dictionary used for indexing and labels.</li>
<li>vp1 (dict): The first value parameter dictionary to compare.</li>
<li>vp2 (dict): The second value parameter dictionary to compare.</li>
<li>vp1name (str): Name label for the first value parameter set (used in print statements).</li>
<li>vp2name (str): Name label for the second value parameter set (used in print statements).</li>
<li>printing (bool, optional): If True, prints the first detected mismatch with context. Default is False.</li>
</ul>
<h4 id="data.values.compare_value_parameters--returns">Returns:<a class="headerlink" href="#data.values.compare_value_parameters--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>identical (bool): True if all structure and content matches exactly between the two value parameter sets;
  False otherwise.</li>
</ul>
<h4 id="data.values.compare_value_parameters--examples">Examples:<a class="headerlink" href="#data.values.compare_value_parameters--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="n">compare_value_parameters</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">vp_baseline</span><span class="p">,</span> <span class="n">vp_candidate</span><span class="p">,</span> <span class="s1">&#39;Baseline&#39;</span><span class="p">,</span> <span class="s1">&#39;Candidate&#39;</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Differences found between value parameter sets.&quot;</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compare_value_parameters</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">vp1</span><span class="p">,</span> <span class="n">vp2</span><span class="p">,</span> <span class="n">vp1name</span><span class="p">,</span> <span class="n">vp2name</span><span class="p">,</span> <span class="n">printing</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compare Two Sets of Value Parameters for Equality.</span>

<span class="sd">    This function compares two dictionaries of value parameters used in cadet-AFSC utility modeling.</span>
<span class="sd">    It checks structural consistency (array shapes) and content equality across keys that define</span>
<span class="sd">    objective weights, constraints, value functions, and other relevant configurations.</span>

<span class="sd">    Parameters:</span>
<span class="sd">    --------</span>
<span class="sd">    - parameters (dict): The shared cadet-AFSC parameter dictionary used for indexing and labels.</span>
<span class="sd">    - vp1 (dict): The first value parameter dictionary to compare.</span>
<span class="sd">    - vp2 (dict): The second value parameter dictionary to compare.</span>
<span class="sd">    - vp1name (str): Name label for the first value parameter set (used in print statements).</span>
<span class="sd">    - vp2name (str): Name label for the second value parameter set (used in print statements).</span>
<span class="sd">    - printing (bool, optional): If True, prints the first detected mismatch with context. Default is False.</span>

<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    - identical (bool): True if all structure and content matches exactly between the two value parameter sets;</span>
<span class="sd">      False otherwise.</span>

<span class="sd">    Examples:</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    result = compare_value_parameters(p, vp_baseline, vp_candidate, &#39;Baseline&#39;, &#39;Candidate&#39;, printing=True)</span>
<span class="sd">    if not result:</span>
<span class="sd">        print(&quot;Differences found between value parameter sets.&quot;)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Shorthand</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">parameters</span>

    <span class="c1"># Assume identical until proven otherwise</span>
    <span class="n">identical</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Loop through each value parameter key</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">vp1</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">!=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; not the same. &#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39; is a different size.&#39;</span><span class="p">)</span>
            <span class="n">identical</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">,</span> <span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; not the same. &#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39; is different.&#39;</span><span class="p">)</span>
                <span class="n">identical</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>

        <span class="k">elif</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;cadet_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;objective_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;value_functions&#39;</span><span class="p">,</span> <span class="s1">&#39;objective_target&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;objective_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;afsc_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;cadet_weight&#39;</span><span class="p">,</span> <span class="s1">&#39;I^C&#39;</span><span class="p">,</span> <span class="s1">&#39;J^C&#39;</span><span class="p">,</span> <span class="s1">&#39;value_functions&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;constraint_type&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">,</span> <span class="s1">&#39;value_functions&#39;</span><span class="p">]:</span>
                <span class="n">vp_1_arr</span><span class="p">,</span> <span class="n">vp_2_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="mi">4</span><span class="p">)),</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="mi">4</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">vp_1_arr</span><span class="p">,</span> <span class="n">vp_2_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">ravel</span><span class="p">(</span><span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

            <span class="n">diff_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">vp_1_arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">vp_2_arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">vp_1_arr</span><span class="p">))])</span>
            <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">diff_arr</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">or</span> <span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[]):</span>
                <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; not the same. &#39;</span> <span class="o">+</span> <span class="n">key</span> <span class="o">+</span> <span class="s1">&#39; is different.&#39;</span><span class="p">)</span>
                <span class="n">identical</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>

        <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span><span class="p">:</span>  <span class="c1"># Check the breakpoints</span>

            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J&#39;</span><span class="p">]:</span>
                <span class="n">afsc</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s2">&quot;afscs&quot;</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">vp1</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">]:</span>
                    <span class="n">objective</span> <span class="o">=</span> <span class="n">vp1</span><span class="p">[</span><span class="s2">&quot;objectives&quot;</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">vp1</span><span class="p">[</span><span class="s1">&#39;L&#39;</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">]:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]</span> <span class="o">!=</span> <span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">][</span><span class="n">l</span><span class="p">]:</span>
                                <span class="n">identical</span> <span class="o">=</span> <span class="kc">False</span>
                                <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; not the same. &#39;</span>
                                                                        <span class="s1">&#39;Breakpoints are different for AFSC &#39;</span> <span class="o">+</span> <span class="n">afsc</span> <span class="o">+</span>
                                          <span class="s1">&#39; Objective &#39;</span> <span class="o">+</span> <span class="n">objective</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
                                    <span class="nb">print</span><span class="p">(</span><span class="n">vp2name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
                                <span class="k">break</span>
                        <span class="k">except</span><span class="p">:</span>  <span class="c1"># If there was a range error, then the breakpoints are not the same</span>
                            <span class="n">identical</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="k">if</span> <span class="n">printing</span><span class="p">:</span>
                                <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; not the same. &#39;</span>
                                                                    <span class="s1">&#39;Breakpoints are different for AFSC &#39;</span> <span class="o">+</span> <span class="n">afsc</span> <span class="o">+</span>
                                      <span class="s1">&#39; Objective &#39;</span> <span class="o">+</span> <span class="n">objective</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span>
                                <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">vp1</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
                                <span class="nb">print</span><span class="p">(</span><span class="n">vp2name</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">vp2</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">j</span><span class="p">][</span><span class="n">k</span><span class="p">])</span>
                            <span class="k">break</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">identical</span><span class="p">:</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">identical</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">identical</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">if</span> <span class="n">identical</span> <span class="ow">and</span> <span class="n">printing</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">vp1name</span> <span class="o">+</span> <span class="s1">&#39; and &#39;</span> <span class="o">+</span> <span class="n">vp2name</span> <span class="o">+</span> <span class="s1">&#39; are the same.&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">identical</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="data.values.translate_vft_to_gp_parameters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">translate_vft_to_gp_parameters</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span></code>

<a href="#data.values.translate_vft_to_gp_parameters" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Translates VFT (Value-Focused Thinking) Parameters to Goal Programming (GP) Model Parameters.</p>
<p>This function maps the VFT-based cadet-AFSC assignment model parameters stored in a <code>CadetCareerProblem</code>
instance into a format suitable for a separate goal programming model structure (e.g., Rebecca's model).
It builds constraint sets, cadet eligibility mappings, parameter values, and associated reward/penalty weights.</p>
<h4 id="data.values.translate_vft_to_gp_parameters--parameters">Parameters<a class="headerlink" href="#data.values.translate_vft_to_gp_parameters--parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>instance : CadetCareerProblem
    An instance containing:</p>
<ul>
<li><code>parameters</code> (dict): Core cadet and AFSC parameter structures.</li>
<li><code>value_parameters</code> (dict): Weighting schemes, objective values, and constraints.</li>
<li><code>gp_df</code> (DataFrame): Reward and penalty configurations used in GP model.</li>
</ul>
</li>
</ul>
<h4 id="data.values.translate_vft_to_gp_parameters--returns">Returns<a class="headerlink" href="#data.values.translate_vft_to_gp_parameters--returns" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>gp : dict
A dictionary of goal programming model parameters with the following structure:</p>
</li>
<li>
<p>Sets: <code>A</code>, <code>C</code>, <code>A^</code>, <code>C^</code> for AFSCs and Cadets by constraint type.</p>
</li>
<li>Parameters: <code>param</code> for bounds and targets, <code>utility</code>, <code>merit</code>, <code>Big_M</code>, <code>u_limit</code>.</li>
<li>Reward/Penalty: <code>lam^</code>, <code>mu^</code> representing incentive structures.</li>
<li>Constraint Types: <code>con</code> defines the list of all modeled constraints.</li>
</ul>
<h4 id="data.values.translate_vft_to_gp_parameters--notes">Notes<a class="headerlink" href="#data.values.translate_vft_to_gp_parameters--notes" title="Permanent link">&para;</a></h4>
<ul>
<li>The model assumes AFSCs are indexed by <code>A</code> (0 to M-1), cadets by <code>C</code> (0 to N-1).</li>
<li>
<p>Constraint types include:</p>
<ul>
<li><code>T</code>: Target quotas (min)</li>
<li><code>F</code>: Over-classification limits (max)</li>
<li><code>M</code>, <code>D_under</code>, <code>D_over</code>, <code>P</code>: Education tier constraints</li>
<li><code>U_under</code>, <code>U_over</code>: Bounds on USAFA proportions</li>
<li><code>R_under</code>, <code>R_over</code>: Percentile constraints (e.g., merit)</li>
<li><code>W</code>: Minimum preference coverage</li>
<li>Cadets‚Äô eligible and expressed-preference AFSCs are stored in <code>A^['E']</code> and <code>A^['W^E']</code>.</li>
<li><code>lam^['S']</code> rewards assignments that match cadet preferences in order of merit.</li>
<li>Constraint-specific cadet sets are available via <code>C^[con]</code>, e.g., <code>C^['D_under']</code>.</li>
</ul>
</li>
</ul>
<h4 id="data.values.translate_vft_to_gp_parameters--examples">Examples<a class="headerlink" href="#data.values.translate_vft_to_gp_parameters--examples" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="n">gp_parameters</span> <span class="o">=</span> <span class="n">translate_vft_to_gp_parameters</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>afccp/data/values.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">translate_vft_to_gp_parameters</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Translates VFT (Value-Focused Thinking) Parameters to Goal Programming (GP) Model Parameters.</span>

<span class="sd">    This function maps the VFT-based cadet-AFSC assignment model parameters stored in a `CadetCareerProblem`</span>
<span class="sd">    instance into a format suitable for a separate goal programming model structure (e.g., Rebecca&#39;s model).</span>
<span class="sd">    It builds constraint sets, cadet eligibility mappings, parameter values, and associated reward/penalty weights.</span>

<span class="sd">    Parameters</span>
<span class="sd">    --------</span>
<span class="sd">    - instance : CadetCareerProblem</span>
<span class="sd">        An instance containing:</span>

<span class="sd">        - `parameters` (dict): Core cadet and AFSC parameter structures.</span>
<span class="sd">        - `value_parameters` (dict): Weighting schemes, objective values, and constraints.</span>
<span class="sd">        - `gp_df` (DataFrame): Reward and penalty configurations used in GP model.</span>

<span class="sd">    Returns</span>
<span class="sd">    --------</span>
<span class="sd">    - gp : dict</span>
<span class="sd">    A dictionary of goal programming model parameters with the following structure:</span>

<span class="sd">    - Sets: `A`, `C`, `A^`, `C^` for AFSCs and Cadets by constraint type.</span>
<span class="sd">    - Parameters: `param` for bounds and targets, `utility`, `merit`, `Big_M`, `u_limit`.</span>
<span class="sd">    - Reward/Penalty: `lam^`, `mu^` representing incentive structures.</span>
<span class="sd">    - Constraint Types: `con` defines the list of all modeled constraints.</span>

<span class="sd">    Notes</span>
<span class="sd">    --------</span>
<span class="sd">    - The model assumes AFSCs are indexed by `A` (0 to M-1), cadets by `C` (0 to N-1).</span>
<span class="sd">    - Constraint types include:</span>

<span class="sd">        - `T`: Target quotas (min)</span>
<span class="sd">        - `F`: Over-classification limits (max)</span>
<span class="sd">        - `M`, `D_under`, `D_over`, `P`: Education tier constraints</span>
<span class="sd">        - `U_under`, `U_over`: Bounds on USAFA proportions</span>
<span class="sd">        - `R_under`, `R_over`: Percentile constraints (e.g., merit)</span>
<span class="sd">        - `W`: Minimum preference coverage</span>
<span class="sd">    - Cadets‚Äô eligible and expressed-preference AFSCs are stored in `A^[&#39;E&#39;]` and `A^[&#39;W^E&#39;]`.</span>
<span class="sd">    - `lam^[&#39;S&#39;]` rewards assignments that match cadet preferences in order of merit.</span>
<span class="sd">    - Constraint-specific cadet sets are available via `C^[con]`, e.g., `C^[&#39;D_under&#39;]`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    gp_parameters = translate_vft_to_gp_parameters(instance)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Shorthand</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameters</span>
    <span class="n">vp</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span>
    <span class="n">objectives</span> <span class="o">=</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objectives&#39;</span><span class="p">]</span>

    <span class="c1"># Other parameters</span>
    <span class="n">large_afscs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;pgl&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">40</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># set of large AFSCs</span>
    <span class="n">mand_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">objectives</span> <span class="o">==</span> <span class="s1">&#39;Mandatory&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># mandatory objective index</span>
    <span class="n">des_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">objectives</span> <span class="o">==</span> <span class="s1">&#39;Desired&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># desired objective index</span>
    <span class="n">perm_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">objectives</span> <span class="o">==</span> <span class="s1">&#39;Permitted&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># permitted objective index</span>
    <span class="n">usafa_k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">objectives</span> <span class="o">==</span> <span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># USAFA proportion objective index</span>

    <span class="c1"># Initialize &quot;gp&quot; dictionary (Goal Programming Model Parameters)</span>
    <span class="n">gp</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Main sets</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">])</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">])</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">],</span> <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>  <span class="c1"># AFSCs, number of AFSCs</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">],</span> <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;N&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">C</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>  <span class="c1"># Cadets, number of Cadets</span>

    <span class="c1"># List of constraints</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">,</span>  <span class="c1"># Target constraint</span>
                 <span class="s1">&#39;F&#39;</span><span class="p">,</span>  <span class="c1"># Over-classification constraint</span>
                 <span class="s1">&#39;M&#39;</span><span class="p">,</span>  <span class="c1"># Mandatory education constraint</span>
                 <span class="s1">&#39;D_under&#39;</span><span class="p">,</span>  <span class="c1"># Desired education constraint (lower bound)</span>
                 <span class="s1">&#39;D_over&#39;</span><span class="p">,</span>  <span class="c1"># Desired education constraint (upper bound)</span>
                 <span class="s1">&#39;P&#39;</span><span class="p">,</span>  <span class="c1"># Permitted education constraint</span>
                 <span class="s1">&#39;U_under&#39;</span><span class="p">,</span>  <span class="c1"># USAFA proportion constraint (lower bound)</span>
                 <span class="s1">&#39;U_over&#39;</span><span class="p">,</span>  <span class="c1"># USAFA proportion constraint (upper bound)</span>
                 <span class="s1">&#39;R_under&#39;</span><span class="p">,</span>  <span class="c1"># Percentile constraint (lower bound)</span>
                 <span class="s1">&#39;R_over&#39;</span><span class="p">,</span>  <span class="c1"># Percentile constraint (upper bound)</span>
                 <span class="s1">&#39;W&#39;</span><span class="p">]</span>  <span class="c1"># Cadet preference constraint</span>

    <span class="c1"># Subsets of AFSCs that pertain to each constraint (1 dimensional arrays)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A^&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span>  <span class="c1"># Subset of AFSCs with a minimum target quota: assumed all AFSCs</span>
                <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="n">A</span><span class="p">,</span>  <span class="c1"># Subset of AFSCs with over-classification limits: assumed all AFSCs</span>
                <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">if</span> <span class="s1">&#39;Mandatory&#39;</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">]]]),</span>  <span class="c1"># Mandatory AFSCs</span>
                <span class="s1">&#39;D_under&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">if</span> <span class="s1">&#39;Increasing&#39;</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">,</span> <span class="n">des_k</span><span class="p">]]),</span>  <span class="c1"># Desired AFSCs</span>
                <span class="s1">&#39;D_over&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">if</span> <span class="s1">&#39;Decreasing&#39;</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;value_functions&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">,</span> <span class="n">des_k</span><span class="p">]]),</span>  <span class="c1"># Desired AFSCs</span>
                <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">if</span> <span class="s1">&#39;Permitted&#39;</span> <span class="ow">in</span> <span class="n">objectives</span><span class="p">[</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;K^A&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">]]]),</span>  <span class="c1"># Permitted AFSCs</span>
                <span class="s1">&#39;U_under&#39;</span><span class="p">:</span> <span class="n">large_afscs</span><span class="p">,</span>  <span class="c1"># USAFA Proportion constrained AFSCs</span>
                <span class="s1">&#39;U_over&#39;</span><span class="p">:</span> <span class="n">large_afscs</span><span class="p">,</span>  <span class="c1"># USAFA Proportion constrained AFSCs</span>
                <span class="s1">&#39;R_under&#39;</span><span class="p">:</span> <span class="n">large_afscs</span><span class="p">,</span>  <span class="c1"># Percentile constrained AFSCs</span>
                <span class="s1">&#39;R_over&#39;</span><span class="p">:</span> <span class="n">large_afscs</span><span class="p">,</span>  <span class="c1"># Percentile constrained AFSCs</span>
                <span class="s1">&#39;W&#39;</span><span class="p">:</span> <span class="n">A</span><span class="p">}</span>  <span class="c1"># Subset of AFSCs with a cadet preference constraint: assumed all AFSCs</span>

    <span class="c1"># Subset of AFSCs for which each cadet is eligible (Replaced A | A^I)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A^&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;J^E&#39;</span><span class="p">]</span>

    <span class="c1"># Subset of AFSCs that each cadet has placed a preference for</span>
    <span class="n">A_Utility</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;utility&#39;</span><span class="p">][</span><span class="n">c</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">C</span><span class="p">]</span>

    <span class="c1"># Subset of AFSCs that each cadet has placed a preference for and is also eligible for</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A^&#39;</span><span class="p">][</span><span class="s1">&#39;W^E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span><span class="n">A_Utility</span><span class="p">[</span><span class="n">c</span><span class="p">],</span> <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A^&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">][</span><span class="n">c</span><span class="p">])</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">C</span><span class="p">]</span>

    <span class="c1"># Subset of AFSCs which have an upper bound on the number of USAFA cadets</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;A^&#39;</span><span class="p">][</span><span class="s1">&#39;U_lim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span> <span class="k">if</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_value_min&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">,</span> <span class="n">usafa_k</span><span class="p">]])</span>

    <span class="c1"># Set of cadets that have placed preferences on each of the AFSCs</span>
    <span class="n">C_Utility</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;utility&#39;</span><span class="p">][:,</span> <span class="n">a</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="p">]</span>

    <span class="c1"># Subsets of Cadets that pertain to each constraint  (2 dimensional arrays)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;C^&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">],</span>  <span class="c1"># Eligible Cadets for each AFSC</span>
                <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">],</span>  <span class="c1"># Eligible Cadets for each AFSC</span>
                <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;Mandatory&#39;</span><span class="p">],</span>  <span class="c1"># Cadets that have mandatory degrees for each AFSC</span>
                <span class="s1">&#39;D_under&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;Desired&#39;</span><span class="p">],</span>  <span class="c1"># Cadets that have desired degrees for each AFSC</span>
                <span class="s1">&#39;D_over&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;Desired&#39;</span><span class="p">],</span>  <span class="c1"># Cadets that have desired degrees for each AFSC</span>
                <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;Permitted&#39;</span><span class="p">],</span>  <span class="c1"># Cadets that have permitted degrees for each AFSC</span>
                <span class="s1">&#39;U_under&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">],</span>  <span class="c1"># Eligible USAFA Cadets for each AFSC</span>
                <span class="s1">&#39;U_over&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">],</span>  <span class="c1"># Eligible USAFA Cadets for each AFSC</span>
                <span class="s1">&#39;R_under&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">],</span>  <span class="c1"># Eligible Cadets for each AFSC</span>
                <span class="s1">&#39;R_over&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">],</span>  <span class="c1"># Eligible Cadets for each AFSC</span>

                <span class="c1"># Eligible Cadets that have placed preferences for each AFSC</span>
                <span class="s1">&#39;W&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">intersect1d</span><span class="p">(</span><span class="n">C_Utility</span><span class="p">[</span><span class="n">a</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">][</span><span class="n">a</span><span class="p">])</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span><span class="p">]}</span>

    <span class="c1"># Subset of eligible cadets for each AFSC</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;C^&#39;</span><span class="p">][</span><span class="s1">&#39;E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^E&#39;</span><span class="p">]</span>

    <span class="c1"># Subset of eligible usafa cadets for each AFSC</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;C^&#39;</span><span class="p">][</span><span class="s1">&#39;U&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;I^D&#39;</span><span class="p">][</span><span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">]</span>

    <span class="c1"># Parameters for each of the constraints (1 dimensional arrays)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;param&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_min&#39;</span><span class="p">],</span>  <span class="c1"># Target quotas</span>
                   <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_max&#39;</span><span class="p">],</span>  <span class="c1"># Over-classification amounts</span>
                   <span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][:,</span> <span class="n">mand_k</span><span class="p">],</span>  <span class="c1"># Mandatory targets</span>
                   <span class="s1">&#39;D_under&#39;</span><span class="p">:</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][:,</span> <span class="n">des_k</span><span class="p">],</span>  <span class="c1"># Desired targets</span>
                   <span class="s1">&#39;D_over&#39;</span><span class="p">:</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][:,</span> <span class="n">des_k</span><span class="p">],</span>  <span class="c1"># Desired targets</span>
                   <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objective_target&#39;</span><span class="p">][:,</span> <span class="n">perm_k</span><span class="p">],</span>  <span class="c1"># Permitted targets</span>
                   <span class="s1">&#39;U_under&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]),</span>  <span class="c1"># USAFA Proportion lower bound</span>
                   <span class="s1">&#39;U_over&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]),</span>  <span class="c1"># USAFA Proportion upper bound</span>
                   <span class="s1">&#39;R_under&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.35</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]),</span>  <span class="c1"># Percentile lower bound</span>
                   <span class="s1">&#39;R_over&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.65</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">]),</span>  <span class="c1"># Percentile upper bound</span>
                   <span class="s1">&#39;W&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">])}</span>  <span class="c1"># Cadet preference lower bound</span>

    <span class="c1"># Other parameters</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;utility&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;utility&#39;</span><span class="p">]</span>  <span class="c1"># utility matrix (replaced &quot;w&quot; since &quot;w&quot; was already a parameter in her model)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;Big_M&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2000</span>  <span class="c1"># sufficiently large number</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;u_limit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.05</span>  <span class="c1"># limit on number of USAFA cadets for certain AFSCs</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">]</span>  <span class="c1"># cadet percentiles</span>

    <span class="c1"># Penalty and Reward parameters</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Normalized Penalty&#39;</span><span class="p">,</span> <span class="s1">&#39;Normalized Reward&#39;</span><span class="p">,</span> <span class="s1">&#39;Run Penalty&#39;</span><span class="p">,</span> <span class="s1">&#39;Run Reward&#39;</span><span class="p">]</span>
    <span class="n">column_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">column</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">gp_df</span><span class="p">[</span><span class="n">column</span><span class="p">])</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">}</span>

    <span class="c1"># actual reward parameters</span>
    <span class="n">reward</span> <span class="o">=</span> <span class="n">column_dict</span><span class="p">[</span><span class="s1">&#39;Normalized Reward&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">column_dict</span><span class="p">[</span><span class="s1">&#39;Run Reward&#39;</span><span class="p">]</span>

    <span class="c1"># actual penalty parameters</span>
    <span class="n">penalty</span> <span class="o">=</span> <span class="n">column_dict</span><span class="p">[</span><span class="s1">&#39;Normalized Penalty&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">column_dict</span><span class="p">[</span><span class="s1">&#39;Run Penalty&#39;</span><span class="p">]</span>

    <span class="c1"># mu parameters (Penalties)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;mu^&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">con</span><span class="p">:</span> <span class="n">penalty</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">con</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gp</span><span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">])}</span>

    <span class="c1"># lambda parameters (Rewards)</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;lam^&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">con</span><span class="p">:</span> <span class="n">reward</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">con</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gp</span><span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">])}</span>
    <span class="n">gp</span><span class="p">[</span><span class="s1">&#39;lam^&#39;</span><span class="p">][</span><span class="s1">&#39;S&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reward</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">gp</span><span class="p">[</span><span class="s1">&#39;con&#39;</span><span class="p">])]</span>  <span class="c1"># extra reward for preference in order of merit</span>

    <span class="k">return</span> <span class="n">gp</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://gitlab.com/path-to-your-repo" target="_blank" rel="noopener" title="gitlab.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/input/tex/extensions/bm.js"></script>
      
    
  </body>
</html>