
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dglaird.github.io/afccp/user-guide/tutorial_4/">
      
      
        <link rel="prev" href="../tutorial_3/">
      
      
        <link rel="next" href="../tutorial_5/">
      
      
      <link rel="icon" href="../../images/logos/afccp_logo_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Tutorial 4 (Value Parameters) - Air Force Cadet Career Problem</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorial-4-value-parameters" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Air Force Cadet Career Problem" class="md-header__button md-logo" aria-label="Air Force Cadet Career Problem" data-md-component="logo">
      
  <img src="../../images/logos/afccp_logo_and_text_light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Air Force Cadet Career Problem
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial 4 (Value Parameters)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/dglaird/afccp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  üè† Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/getting-started/" class="md-tabs__link">
          
  
  
  üöÄ Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  
  üìò User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../developer-guide/" class="md-tabs__link">
        
  
  
    
  
  üß† Developer Guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/main/cadetcareerproblem_overview/" class="md-tabs__link">
          
  
  
  CadetCareerProblem

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/data/" class="md-tabs__link">
          
  
  
  üìä Data

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/solutions/" class="md-tabs__link">
          
  
  
  üìà Solutions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/visualizations/" class="md-tabs__link">
          
  
  
  Visualizations

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../faq/" class="md-tabs__link">
        
  
  
    
  
  ‚ùì FAQs

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../help/" class="md-tabs__link">
        
  
  
    
  
  üÜò Help & Support

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Air Force Cadet Career Problem" class="md-nav__button md-logo" aria-label="Air Force Cadet Career Problem" data-md-component="logo">
      
  <img src="../../images/logos/afccp_logo_and_text_light.png" alt="logo">

    </a>
    Air Force Cadet Career Problem
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dglaird/afccp/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üè† Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üöÄ Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üöÄ Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìÑ Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üõ†Ô∏è Install Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            üõ†Ô∏è Install Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/developer-checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Checklist
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìò User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üìò User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 1 (Introduction)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 2 (Data Overview)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 3 (Parameters)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tutorial 4 (Value Parameters)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tutorial 4 (Value Parameters)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    <span class="md-ellipsis">
      Defaults
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overall-value-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      "Overall" value parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-controls-mdl_p-side-bar" class="md-nav__link">
    <span class="md-ellipsis">
      Model Controls ("mdl_p" side-bar)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afsc-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      AFSC Objectives
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#afsc-objective-components" class="md-nav__link">
    <span class="md-ellipsis">
      AFSC Objective Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#value-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Value Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-utility" class="md-nav__link">
    <span class="md-ellipsis">
      Global Utility
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cadet-utility-constraints-meant-just-for-afpcdsya-through-an-operational-lens" class="md-nav__link">
    <span class="md-ellipsis">
      Cadet Utility Constraints (Meant just for AFPC/DSYA through an operational lens)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goal-programming-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Goal-Programming Parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      üìå Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 5 (Data Methods)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 6 (Solutions Overview)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 7 (Algorithms)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 8 (Optimization)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial_9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 9 (Visualizations)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß† Developer Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CadetCareerProblem
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CadetCareerProblem
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_generated_data_corrections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generated Data Corrections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_main_data_corrections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Main Data Corrections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_other_adjustments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Adjustments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_value_parameter_specifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Value Parameter Specifications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_solution_generation_%26_algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solution Generation & Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_optimization_models_%26_meta-heuristics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization Models & Meta-Heuristics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_solution_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Solution Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_export_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Export Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_data_visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/main/cadetcareerproblem_results_visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Results Visualizations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üìä Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            üìä Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/adjustments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adjustments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/preferences/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preferences
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Processing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/generation/basic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation- 'Basic'
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/data/generation/realistic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation- 'Realistic'
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üìà Solutions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üìà Solutions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/solutions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/solutions/algorithms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Algorithms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/solutions/handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/solutions/optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/solutions/sensitivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sensitivity
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Visualizations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Visualizations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/visualizations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/visualizations/bubbles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bubbles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/visualizations/charts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Charts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/visualizations/slides/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Slides
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‚ùì FAQs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üÜò Help & Support
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tutorial-4-value-parameters">Tutorial 4: Value Parameters<a class="headerlink" href="#tutorial-4-value-parameters" title="Permanent link">&para;</a></h1>
<p>In this fourth tutorial, we're going to dive into the <code>value_parameters</code> dictionary attribute of <code>CadetCareerProblem</code>.</p>
<p>The value parameters contain all the data on the weights, values, and constraints that the analyst controls on the 
problem. The more data we have on what everyone cares about the more we know what to look for. Even though we no longer 
use the Value-Focused Thinking (VFT) model as the official model to classify cadets to their AFSCs, we still want to 
make sure we capture the needs and desires of the decision makers. Additionally, there are still many constraints that 
can be toggled by the analyst. These are all captured in the <code>value_parameters</code> attribute!</p>
<h2 id="defaults">Defaults<a class="headerlink" href="#defaults" title="Permanent link">&para;</a></h2>
<p>The first thing I want to talk about here is the "default value parameters". I have a method in CadetCareerProblem to 
generate value parameters which is made exclusively for simulated data. Since that is the instance we are working with, 
we have already done that (it happens in 
<a href="../../../afccp/reference/main/cadetcareerproblem_generated_data_corrections/#afccp.generated.CadetCareerProblem.fix_generated_data"><code>instance.fix_generated_data()</code></a>). 
This set of value parameters exists in our <code>vp_dict</code> but we haven't actually activated it yet. 
My code works with the idea that you could have different sets of things you care about, and when you solve the model 
with one set of value parameters you could solve it again with a different set. Let's see what this looks like:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># List of sets of value parameters</span>
<span class="nb">print</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">vp_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

<span class="c1"># Current &quot;activated&quot; value parameters (we haven&#39;t told CadetCareerProblem to activate any yet!)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;VP dictionary:&#39;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span><span class="p">,</span> <span class="s1">&#39;VP Name:&#39;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">vp_name</span><span class="p">)</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>dict_keys([&#39;VP&#39;])
VP dictionary: None VP Name: None
</code></pre></div>
</details>
<p>We need to activate this set of value parameters, which we can do like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">instance</span><span class="o">.</span><span class="n">set_value_parameters</span><span class="p">()</span>  <span class="c1"># Defaults to grabbing the first set in the list</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;VP Name:&#39;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">vp_name</span><span class="p">)</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>VP Name: VP
</code></pre></div>
</details>
<p>One of the things we can do is export the current set of value parameters as "defaults" back to excel. 
That is what I do here:</p>
<div class="highlight"><pre><span></span><code><span class="n">instance</span><span class="o">.</span><span class="n">export_value_parameters_as_defaults</span><span class="p">()</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Exporting value parameters as defaults to excel...
</code></pre></div>
</details>
<p>This set of value parameters now exists in it's "default" form in your afccp/support/value parameters defaults/ 
folder! I add a "New" to the end of the name purely as a way to ensure you don't unintentionally overwrite your 
previous set of default value parameters:</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic13.png" width="900px">
</p>

<p>Simply go in and manually change the name to "Value_Parameters_Defaults_Random_1.xlsx" (again, the "New" thing is 
because I don't want you to accidentally overwrite the real one if applicable!). Once you've done that, we can import 
this set of value parameters as "defaults" rather than generating random ones like we did at the beginning for this 
simulated dataset! </p>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">import_default_value_parameters</span><span class="p">()</span>  <span class="c1"># I add the &quot;v = &quot; because there&#39;s a lot of output otherwise</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Importing default value parameters...
Imported.
</code></pre></div>
</details>
<p>There are two reasons I'm having you import the value parameters as defaults above: to show you how can initialize 
a set of value parameters for an instance from excel (rather than generating random ones), and also to show that I 
have a nifty function that checks if a new set of value parameters is really "new". What I mean by that is if you 
acquire a new set of value parameters by importing defaults, ideally it should only be added as a new one if it 
really is a unique set of parameters. You already had a set of value parameters "VP", and now you've just imported a 
new one so you should have "VP2". However, you'll still only see "VP" in your list because the two were identical:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Only one set of value parameters found for this instance</span>
<span class="n">instance</span><span class="o">.</span><span class="n">vp_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>dict_keys([&#39;VP&#39;])
</code></pre></div>
</details>
<p>Now that we have our value parameters imported, I want to take a moment to describe the various components. 
I'm going to do this by using the "Value_Parameters_Defaults" excel file as a reference. Remember, these are the 
"defaults" that get imported for a particular problem instance that then turn into the actual set of value parameters 
used. To describe these value parameters, I will show the various dataframes inside the "Value_Parameters_Defaults"
excel file structure. This default excel workbook was created when I ran the <code>instance.import_default_value_parameters()</code>
method. After changing the name to remove the "_New" extension, I have the file: 
"support/value parameters defaults/Value_Parameters_Defaults_Random_1.xlsx".</p>
<h2 id="overall-value-parameters">"Overall" value parameters<a class="headerlink" href="#overall-value-parameters" title="Permanent link">&para;</a></h2>
<p>The first dataframe I'll show contains the information for the "big toggles" on the value parameters:</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic14.png" width="900px">
</p>

<p>Once initialized for the "Random_1" problem instance, these highest level settings are stored in 
"Random_1 Value Parameters.csv" in the "Model Input" folder. This dataframe controls the overall settings 
for each set of value parameters. It's also what tells <code>afccp</code> the names of the different sets of value parameters 
as well. Right now, we only have one set ("VP").</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Shorthand</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameters</span>
<span class="n">vp</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current value parameter set name:&quot;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">vp_name</span><span class="p">)</span>

<span class="c1"># Overall weights on Cadets/AFSCs</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Cadets Overall Weight:&#39;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AFSCs Overall Weight:&#39;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">])</span>

<span class="c1"># If we want to constrain the overall values on Cadets/AFSCs (we won&#39;t, but it&#39;s here)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Cadets Overall Minimum Value:&#39;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_value_min&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;AFSCs Overall Minimum Value:&#39;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_value_min&#39;</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Current value parameter set name: VP

Cadets Overall Weight: 0.5153395820213456
AFSCs Overall Weight: 0.4846604179786544

Cadets Overall Minimum Value: 0
AFSCs Overall Minimum Value: 0
</code></pre></div>
</details>
<p>For the "individual" weight on each cadet relative to all other cadets (and vice versa for AFSCs), we use weight 
functions. For cadets, their weights are based on their order of merit. In my random set of data, the cadet weight 
function initialized is "Curve_1". (Yours may differ!)</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Cadet weight function</span>
<span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>&#39;Curve_1&#39;
</code></pre></div>
</details>
<p>Here, cadet weight is a "sigmoid" function of their order of merit. Again, yours likely will not be! I can 
illustrate the weight function by plotting cadet weight versus their OM:</p>
<div class="highlight"><pre><span></span><code><span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic15.png" width="700px">
</p>

<p>Now, the percentiles for a real class will be uniformly distributed between 0 and 1. This is a fake class of 20 cadets 
and so they were randomly selected between 0 and 1 which is why the graph looks a little weird. The y-axis shows the 
"swing weights" for the cadets. Swing weights simply mean that they've been scaled so the biggest value is 1 and all 
other weights are relative to that one. "Local" weights, by contrast, sum to 1 collectively. I've printed out the 
differences below and you can see how I calculate them:</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Merit&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&#39;Local&#39; Weight&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;Local Weight Sum:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]),</span> <span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&#39;Swing&#39; (Scaled) Weight&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">around</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_weight&#39;</span><span class="p">]),</span> <span class="mi">3</span><span class="p">))</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Merit [0.145 0.172 0.288 0.042 0.326 0.329 0.849 0.817 0.349 0.415 0.955 0.031 0.8   0.581 0.794 0.261 0.904 0.578 0.846 0.607]

&#39;Local&#39; Weight [0.026 0.027 0.03  0.026 0.033 0.033 0.074 0.073 0.034 0.04  0.075 0.026 0.073 0.06  0.073 0.029 0.074 0.059 0.074 0.062] Local Weight Sum: 1.0

&#39;Swing&#39; (Scaled) Weight [0.354 0.36  0.408 0.343 0.436 0.438 0.987 0.98  0.457 0.537 1.    0.342 0.975 0.801 0.973 0.392 0.995 0.795 0.987 0.835]
</code></pre></div>
</details>
<p>We can also change the weight function through afccp if we want to.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Linear function of OM (not very &quot;forgiving&quot; to low OM cadets)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Direct&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic16.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Cadets are equal no matter what their OM is</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Equal&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic17.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Exponential curve (not recommended since it puts heavy emphasis on top performers)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Exponential&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic18.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Sigmoid curve of OM (more forgiving in terms of differences between highest and lowest rank)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Curve_1&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic19.png" width="700px">
</p>

<p>These curves are what I'd use since the top cadet is a little more than twice as "important" as the lowest cadet. 
On the other linear/exponential curves, the difference is quite drastic (100% to 0%).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Sigmoid curve of OM (very similar to previous one)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Curve_2&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;square_figsize&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic20.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Change back to &quot;Curve_1&quot; weight function</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Curve_1&quot;</span><span class="p">)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span><span class="p">[</span><span class="s1">&#39;cadet_weight_function&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>&#39;Curve_1&#39;
</code></pre></div>
</details>
<p>AFSC weights may be determined as a function of their size. Ideally, in the future it'd be some function of their size, 
difficulty to fill, manpower needs, and maybe more. I want a better method for determining those weights on the AFSCs.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># In my generated data, AFSCs are weighted equally</span>
<span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>&#39;Equal&#39;
</code></pre></div>
</details>
<p>Here is the AFSC weight chart. The AFSC weight chart is a bar chart since we can show relative importance pretty well 
with those kinds of charts.</p>
<div class="highlight"><pre><span></span><code><span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;cadets_graph&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;skip_afscs&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic21.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Weight based purely on size</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Size&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;cadets_graph&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;skip_afscs&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic22.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Slightly different function of size (function from generated data)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Curve_1&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;cadets_graph&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;skip_afscs&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic23.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Another function of size</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Curve_2&quot;</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;cadets_graph&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;skip_afscs&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic24.png" width="700px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Change back to &quot;Equal&quot; weight function</span>
<span class="n">instance</span><span class="o">.</span><span class="n">change_weight_function</span><span class="p">(</span><span class="n">cadets</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="s2">&quot;Equal&quot;</span><span class="p">)</span>
<span class="n">instance</span><span class="o">.</span><span class="n">value_parameters</span><span class="p">[</span><span class="s1">&#39;afsc_weight_function&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>&#39;Equal&#39;
</code></pre></div>
</details>
<p>If we pass the function "Custom" for AFSC weights, we will pull from the predefined weights in the "AFSC Weights" 
excel sheet.</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic25.png" width="900px">
</p>

<p>Right now they are from the "Equal" function. If we want to constrain the AFSC values, we can do that using the 
"AFSC Min Value" column.</p>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AFSC &#39;local&#39; weight:&quot;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_weight&#39;</span><span class="p">])</span>  <span class="c1"># Sum to 1!</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AFSC minimum values:&quot;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afsc_value_min&#39;</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>AFSC &#39;local&#39; weight: [0.25 0.25 0.25 0.25]
AFSC minimum values: [0. 0. 0. 0.]
</code></pre></div>
</details>
<p>I'm going to show the "overall weights" dataset again for reference since there are a lot of charts above and I don't 
want you to have to keep scrolling up!</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic14.png" width="900px">
</p>

<h2 id="model-controls-mdl_p-side-bar">Model Controls ("mdl_p" side-bar)<a class="headerlink" href="#model-controls-mdl_p-side-bar" title="Permanent link">&para;</a></h2>
<p>I've mentioned the attribute "mdl_p" earlier on in this tutorial but haven't gone too much into detail on it. 
Essentially, this is my dictionary of all the various toggles and components used across afccp. 
Everything from genetic algorithm hyperparameters to the colors of various components of the visualizations. 
There's a lot there. I've actually been using them for the charts above everytime I pass in a dictionary as a parameter 
for the method I'm calling. If you recall the 
<a href="../../../afccp/reference/main/cadetcareerproblem_data_visualizations/#afccp.main.CadetCareerProblem.display_weight_function"><code>instance.display_weight_function()</code></a> 
method was taking a dictionary including things like <code>{"dpi": 80, "cadets_graph": False, "skip_afscs": False}</code>. 
These control specific components used in some place within afccp. In that context, they're controls used in the weight 
function chart.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># DPI (Dots per inch) of my charts</span>
<span class="n">instance</span><span class="o">.</span><span class="n">mdl_p</span><span class="p">[</span><span class="s1">&#39;dpi&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>80
</code></pre></div>
</details>
<p>I alluded to this towards the beginning of the tutorial, but essentially within <code>afccp.core.data.support</code> there is a 
function called 
<a href="../../../afccp/reference/data/support/#data.support.initialize_instance_functional_parameters">initialize_instance_functional_parameters()</a>
that initializes the many "hyperparameters" of afccp. "Hyperparameters" traditionally refer to the parameters 
that control the learning process of some algorithms and are probably not the best term to use for this since that's 
really only applicable to the genetic algorithm. "Controls" is probably a better word, since I've generalized this 
dictionary to control for a lot of different elements. When I say a lot, I mean it!</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Number of keys in the &quot;mdl_p&quot; dictionary</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of afccp &#39;controls&#39;:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">mdl_p</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Number of afccp &#39;controls&#39;: 246
</code></pre></div>
</details>
<p>If you scroll through "main.py" and look at the keyword arguments used you'll notice "p_dict={}" is quite common. 
What this does is allow you to change the default settings that are initialized for mdl_p. Using "mdl_p" as I do 
allows me to come up with a needed "control" for some function buried deep within afccp and not worry about passing it 
through the many layers of functions to get to where it needs to be. The instance object contains mdl_p as an attribute 
and so we just define it in the parameter initialization function of support.py and bam- we have it wherever we need it. 
It's also now something I can have a default setting for and potentially change using "p_dict". Here's an example:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Default bar color- HEX codes are useful ways of selecting precise colors</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Default bar color:&#39;</span><span class="p">,</span> <span class="n">instance</span><span class="o">.</span><span class="n">mdl_p</span><span class="p">[</span><span class="s1">&#39;bar_color&#39;</span><span class="p">])</span>  <span class="c1"># (google &quot;color picker&quot;)</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Default bar color: #3287cd
</code></pre></div>
</details>
<p>The color above is the light-ish shade of blue you've seen for the charts above. 
Let's produce the AFSC chart again after changing the 'bar_color' parameter.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Slightly different function of size</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">display_weight_function</span><span class="p">({</span><span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s2">&quot;cadets_graph&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;skip_afscs&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
                                          <span class="s1">&#39;bar_color&#39;</span><span class="p">:</span> <span class="s2">&quot;#08d152&quot;</span><span class="p">})</span>  <span class="c1"># Shade of green</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic26.png" width="700px">
</p>

<p>As a reminder, in order to make use of <code>p_dict</code> as a means of passing a new value for one of the controls inside "mdl_p", 
you simply call the desired method and pass a dictionary ie. {"bar_color": "blue"} containing the keys that you want to 
change as the only argument. </p>
<h2 id="afsc-objectives">AFSC Objectives<a class="headerlink" href="#afsc-objectives" title="Permanent link">&para;</a></h2>
<p>Before I dive deep into the components of the AFSC objectives, it's probably worthwhile to talk about what the 
objectives themselves are. Here they are printed out for you:</p>
<div class="highlight"><pre><span></span><code><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;objectives&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([&#39;Norm Score&#39;, &#39;Merit&#39;, &#39;USAFA Proportion&#39;, &#39;Combined Quota&#39;,
   &#39;USAFA Quota&#39;, &#39;ROTC Quota&#39;, &#39;Utility&#39;, &#39;Mandatory&#39;, &#39;Desired&#39;,
   &#39;Permitted&#39;, &#39;Tier 1&#39;, &#39;Tier 2&#39;, &#39;Tier 3&#39;, &#39;Tier 4&#39;], dtype=&#39;&lt;U16&#39;)
</code></pre></div>
</details>
<p>The "Norm Score" objective refers to the newly defined career field preference lists. Basically, career fields get to 
rank cadets in order of preference similar to how the cadets rank their AFSC choices. To evaluate how well we meet the 
needs of the AFSC according to their preferences, I came up with a normalized score idea. Imagine you have a set of ten 
cadets, ranked 1 to 10. If you are picking 3 cadets from that list, the best cadets you could select are the ones 
ranked 1, 2, 3. The worst are the cadets ranked 8, 9, 10. The former is a score of 1 and the latter is a score of 0. 
Whatever you ultimately pick is likely going to be somewhere in between, which is where the norm score comes in. 
Here is that example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>

<span class="c1"># Cadet rankings</span>
<span class="n">num_cadets</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># 10 cadets in the above example</span>
<span class="n">rankings</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_cadets</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rankings:&#39;</span><span class="p">,</span> <span class="n">rankings</span><span class="p">)</span>

<span class="c1"># Picking &quot;n&quot; cadets</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># picking 3 for this example</span>

<span class="c1"># Selecting n cadets</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Best Cadets:&#39;</span><span class="p">,</span> <span class="n">rankings</span><span class="p">[:</span><span class="n">n</span><span class="p">])</span>

<span class="c1"># &quot;Score&quot; is the sum of these numbers</span>
<span class="n">best_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rankings</span><span class="p">[:</span><span class="n">n</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Best Cadets Score:&#39;</span><span class="p">,</span> <span class="n">best_score</span><span class="p">)</span>

<span class="c1"># Selecting n cadets</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Worst Cadets:&#39;</span><span class="p">,</span> <span class="n">rankings</span><span class="p">[</span><span class="n">num_cadets</span><span class="o">-</span><span class="n">n</span><span class="p">:])</span>

<span class="c1"># &quot;Score&quot; is the sum of these numbers</span>
<span class="n">worst_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">rankings</span><span class="p">[</span><span class="n">num_cadets</span><span class="o">-</span><span class="n">n</span><span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Worst Cadets Score:&#39;</span><span class="p">,</span> <span class="n">worst_score</span><span class="p">)</span>

<span class="c1"># Pick a random set of n cadets</span>
<span class="n">selected_cadets</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">rankings</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Randomly selected cadets:&#39;</span><span class="p">,</span> <span class="n">selected_cadets</span><span class="p">)</span>

<span class="n">selected_score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">selected_cadets</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Random cadets score:&#39;</span><span class="p">,</span> <span class="n">selected_score</span><span class="p">)</span>

<span class="c1"># &quot;Norm Score&quot; normalizes that &quot;selected_score&quot; on a 1 to 0 scale using the best/worst scores</span>
<span class="n">norm_score</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">selected_score</span> <span class="o">-</span> <span class="n">best_score</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">worst_score</span> <span class="o">-</span> <span class="n">best_score</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Norm Score:&#39;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">norm_score</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Everything described above is what is used in afccp</span>
<span class="kn">from</span> <span class="nn">afccp.solutions.handling</span> <span class="kn">import</span> <span class="n">calculate_afsc_norm_score_general</span>

<span class="c1"># This function takes the rankings and selected rankings as arguments</span>
<span class="n">norm_score_2</span> <span class="o">=</span> <span class="n">calculate_afsc_norm_score_general</span><span class="p">(</span><span class="n">rankings</span><span class="p">,</span> <span class="n">selected_cadets</span><span class="p">)</span>  
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Norm Score (from afccp):&#39;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">norm_score_2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Rankings: [ 1  2  3  4  5  6  7  8  9 10]

Best Cadets: [1 2 3]
Best Cadets Score: 6

Worst Cadets: [ 8  9 10]
Worst Cadets Score: 27

Randomly selected cadets: [10, 4, 8]
Random cadets score: 22

Norm Score: 0.2381
Norm Score (from afccp): 0.2381
</code></pre></div>
</details>
<p>The "Merit" objective is one that was used to fairly distribute "quality" cadets across the AFSCs. 
The idea is that no single "large" AFSC should be composed of entirely high or low performers. 
I've never liked this objective because it puts too much emphasis on defining quality for a career field purely on 
graduating order of merit. I believe that the career field preferences provide a much better way of defining quality 
cadets that is specific to each career field. It is no longer a zero-sum game, and it is theoretically possible 
(though highly improbable) that the rankings given could perfectly line up with the needs of the Air Force such that 
every single AFSC receives their top performers. Again, this won't ever happen, but we are now deviating from order of 
merit as the one-size-fits-all metric of quality.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Average order of merit of the class</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Average OM:&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;merit&#39;</span><span class="p">]))</span> <span class="c1"># Should be about 0.5 for a real class (random data will not)</span>

<span class="c1"># Proportion of USAFA cadets of the class</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;USAFA Proportion:&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;usafa&#39;</span><span class="p">]))</span> <span class="c1"># Closer to 1/3 for a real class</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Average OM: 0.5044154990687344
USAFA Proportion: 0.35
</code></pre></div>
</details>
<p>In a very similar way that we want to keep average OM around 0.5 (or whatever the actual average is) for each of the 
large AFSCs, we also don't want any single large AFSC to be composed of entirely USAFA or ROTC cadets. 
We take the actual proportion of the cadets as the baseline and then shoot to be within +- 15% of that number. 
That is another AFSC objective that may or may not actually be that important. The idea now is that it should be left 
up to the career field manager to determine.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># USAFA quota (for each AFSC)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;USAFA Quota:&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;usafa_quota&#39;</span><span class="p">])</span>

<span class="c1"># ROTC quota (for each AFSC)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ROTC Quota:&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;rotc_quota&#39;</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>USAFA Quota: [1. 1. 0. 0.]
ROTC Quota: [7. 4. 2. 2.]
</code></pre></div>
</details>
<p>If you recall the USAFA/ROTC quotas from earlier on, these numbers are fed into their appropriate objectives. 
Meeting the individual USAFA and ROTC quotas are two objectives that are separate from the USAFA proportion objective. 
They're doing similar things, but one is trying to balance the proportion of cadets assigned to be around some 
baseline while the others are simply trying to meet a quota and that's it. These objectives really only come into play 
now with the rated AFSCs since we need to keep the slots specific to each source of commissioning.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># The &quot;desired&quot; number of cadets for a given AFSC</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;PGL Target (Combined SOC quotas):&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;pgl&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Desired number:&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;quota_d&#39;</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>PGL Target (Combined SOC quotas): [8. 5. 2. 2.]

Desired number: [8. 8. 3. 2.]
</code></pre></div>
</details>
<p>The quota objective that we absolutely do care about is the "Combined Quota" objective which is used right now to meet 
the PGL. It currently provides the minimum number of cadets to classify and so as long as we meet each of the minimums 
then we are good! In the future, there's a lot more we should do with this objective to really hone in on the 
importance of assigning more or fewer cadets to a given AFSC (cross-collaboration with AFMAA/A1XD in the works).</p>
<div class="highlight"><pre><span></span><code><span class="c1"># The AFOCD Tier objectives (from the &quot;AFSCs.csv&quot; I showed earlier)</span>
<span class="n">p</span><span class="p">[</span><span class="s1">&#39;Deg Tiers&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([[&#39;M &gt; 0.27&#39;, &#39;P &lt; 0.73&#39;, &#39;&#39;, &#39;&#39;],
       [&#39;P = 1&#39;, &#39;I = 0&#39;, &#39;&#39;, &#39;&#39;],
       [&#39;M = 1&#39;, &#39;I = 0&#39;, &#39;&#39;, &#39;&#39;],
       [&#39;P = 1&#39;, &#39;I = 0&#39;, &#39;&#39;, &#39;&#39;]], dtype=&#39;&lt;U8&#39;)
</code></pre></div>
</details>
<p>There are generally up to four Air Force Officer Classification Directory (AFOCD) degree tiers per career field. 
Each degree tier has a target proportion and requirement level associated with it: Mandatory, Desired, or Permitted 
(M, D, P). Above, the columns correspond to degree tiers (1, 2, 3, 4) and the rows are the AFSCs. It just so 
happens that in this example we have 4 AFSCs and so it's worth clarifying! The format above provides a few pieces 
of information: the requirement level, target proportion, and the type of inequality specified (&gt;, &lt;, or =). 
So, for a degree tier format of "D &gt; 0.54", we know the requirement is "Desired" and the AFSC wants at LEAST 54% of 
their accessions to have degrees in that tier. If you recall, the information on what tier everyone is placed in 
for each AFSC based on their degree is located in the "qual" matrix. There is a function in <code>afccp.core.support</code>
called <a href="../../../afccp/reference/data/support/#data.support.cip_to_qual_tiers"><code>cip_to_qual_tiers()</code></a>
that creates the <code>qual</code> matrix based on the cadets' degrees. This is an important function for the AFPC/DSYA analyst 
to maintain, and is irrelevant for random data since it's all fake anyway!</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Qual matrix! This conveys requirement level (M, D, P), tier (1, 2, 3, 4) and even eligibility (&quot;I&quot; is ineligible)</span>
<span class="n">p</span><span class="p">[</span><span class="s1">&#39;qual&#39;</span><span class="p">]</span>  <span class="c1"># Rows are cadets, columns are AFSCs!</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([[&#39;M1&#39;, &#39;P1&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;M1&#39;, &#39;P1&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;I2&#39;],
       [&#39;M1&#39;, &#39;I2&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;I2&#39;],
       [&#39;M1&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;M1&#39;, &#39;P1&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;I2&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;M1&#39;, &#39;I2&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;M1&#39;, &#39;I2&#39;, &#39;M1&#39;, &#39;I2&#39;],
       [&#39;M1&#39;, &#39;P1&#39;, &#39;I2&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;I2&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;],
       [&#39;P2&#39;, &#39;P1&#39;, &#39;M1&#39;, &#39;P1&#39;]], dtype=&#39;&lt;U2&#39;)
</code></pre></div>
</details>
<p>As you can imagine, the objectives for "Tier 1" -&gt; "Tier 4" are there to meet the respective degree tier proportions! 
There are the legacy "Mandatory", "Desired", and "Permitted" objectives as well, but those were replaced with the tier
objectives ("Tier 1" -&gt; "Tier 4"). Essentially, we used to just group each of the categories (M, D, P) together and 
constrain the model that way. This was not completely accurate, since two tiers that both have a mandatory label (M) 
should be treated separately. </p>
<p>Lastly, the "Utility" objective is simply to maximize cadet utility (happiness) and is measured by the average 
cadet utility of the cadets assigned. I have this in there so AFSCs can prioritize the preferences of their incoming 
cadets as well.</p>
<h2 id="afsc-objective-components">AFSC Objective Components<a class="headerlink" href="#afsc-objective-components" title="Permanent link">&para;</a></h2>
<p>This section describes the various pieces of the AFSC objectives: their weights, targets, and constraints. 
The value functions are another component of the objectives, but we'll cover them in their own section since 
there's a lot going on there! The first component of the AFSC objectives we'll discuss are the weights.</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic27.png" width="900px">
</p>

<p>Here are the objective weights for each AFSC for each objective. Like the AFSC "individual" weights, these are swing 
weights that will be scaled for each AFSC so that they sum to 1. Many objectives are weighted at 0 which effectively 
removes them from consideration for a given AFSC.</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic28.png" width="900px">
</p>

<p>This dataframe displays the target measure for each of the objectives. In a perfect world, we'd meet every AFSC 
objective by hitting these values for each of them. </p>
<p align="center">
  <img src="/afccp/images/user-guide/pic29.png" width="900px">
</p>

<p>These are the constraints for each objective for each AFSC. Most are determined automatically based on the "fixed" data. 
For example, the Combined Quota constraint is determined by the "Min, Max" values in "Random_1 AFSCs.csv". 
The AFOCD Tier objective constraint ranges come from the "Deg Tiers" columns of "Random_1 AFSCs.csv" as well. 
Since this is random data, nothing else is constrained to begin with.</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic30.png" width="900px">
</p>

<p>Here is where you actually turn different constraints on or off. If there is a 0, the constraint is turned off. 
A "1" is an "approximate" constraint. This means that the denominator is the PGL target for an AFSC, not the actual 
number of cadets assigned. If this is confusing, please reference my thesis or my slides that talk about the 
difference between the Approximate Model and the Exact Model. The "2", therefore, is an "exact" constraint. 
The only place where we could legitimately use a "1" instead of a "2" is for the AFOCD constraints. </p>
<p>Example: Let's say 14N wants 70% of their cadets to have tier 1 degrees. Let's also say the PGL is 190 and we assign 
220 cadets. A "1" constraint is a less restrictive constraint, and would ensure that 133 cadets (190 * 0.70) have 
"Tier 1" degrees. Alternatively, a "2" constraint ensures the actual proportion gets constrained, so 154 cadets 
(220 * 0.70) will have "Tier 1" degrees. Sometimes it is really hard to meet the AFOCD for some AFSCs, 
and so a "1" constraint is necessary to ensure we meet the target based on the PGL, not the actual number of cadets. 
Most of the time, however, we use "2" as the constraint type.</p>
<p>Once these default value parameters have been imported/initialized for <code>Random_1</code>, they will be imported from 
"Random_1 VP.csv" in "Model Input".</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic31.png" width="900px">
</p>

<p>As you can see, this file structure has a row for every AFSC and objective pair. The dataframes shown previously are 
flattened into columns and exist here. Again, these are the actual value parameters used for the problem instance, 
since the "Defaults" could have been more generalized (they aren't here since we exported our randomly generated set 
as defaults, therefore having it be the same thing as what you're seeing here). 
For a real class you could simply take the previous years defaults, tweak them a bit if needed, 
and import those as a starting point for a new class year. The objective targets would be updated to reflect 
the information of the problem instance you're looking at (the USAFA proportion objective target would be the 
proportion of the USAFA cadets of the instance you're solving, for example).</p>
<p>The "AFSC Weight" and "Min Value" columns above pertain to the AFSC itself, not the AFSC-objective pair 
like the others (which is why "AFSC Weight" is all 100s for R1). The three columns to the right pertain to the 
value functions used for each AFSC and objective which I will discuss in more detail in the following section.</p>
<h2 id="value-functions">Value Functions<a class="headerlink" href="#value-functions" title="Permanent link">&para;</a></h2>
<p align="center">
  <img src="/afccp/images/user-guide/pic32.png" width="1000px">
</p>

<p>Here we have the value functions for each of the AFSC objectives. These definitely require some explaining. 
I've created my own terminology so that they can be generalized and constructed into actual value functions for each 
of the objectives. I have an excel file that outlines how these functions are created and what they look like 
(Value_Function_Builds.xlsx), but I will also detail them here. </p>
<div class="highlight"><pre><span></span><code><span class="c1"># I need to import this script</span>
<span class="kn">import</span> <span class="nn">afccp.data.values</span>
</code></pre></div>
<p>Before you read this next section on the value functions, please look at my "Creating Value Functions" slides in 
<a href="../../../afccp/academics/VFT_Model_Slides.pptx">VFT_Model_Slides.pptx</a> (starts on slide 130), and just click 
through them. This is how I construct the value functions, and this should help your understanding of the different 
piece-wise "segments" used.</p>
<p>The purpose of the "vf_string" (Value Function string) is to construct the "segment_dict" (Segment Dictionary) 
which provides the coordinates for the main piece-wise value function segment breakpoints. As illustrated below, 
there are four "segments" of exponential functions that are pieced together using "breakpoints". 
There are therefore 5 breakpoints. For this example, they are at the coordinates (0, 0), (3, 0.5), (5, 1), (7, 0.5), 
and (10, 0). This would compose the "segment_dict".</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic33.png" width="600px">
</p>

<p>Let's illustrate the "Balance" value function. It takes several inputs pertaining to the "margins" and the 
<span class="arithmatex">\(\rho\)</span> parameters. Here is what it looks like:</p>
<p>vf_string <span class="arithmatex">\(=\)</span> "Balance|left_base_margin, right_base_margin, <span class="arithmatex">\(\rho_1\)</span>, <span class="arithmatex">\(\rho_2\)</span>, <span class="arithmatex">\(\rho_3\)</span>, <span class="arithmatex">\(\rho_4\)</span>, margin_y"</p>
<p>Honestly, you really don't need to worry about what these all mean. The only thing you should focus on is the 
<span class="arithmatex">\(\rho\)</span> ("rho") parameters. These control how steep each of the exponential segments are. Let's see an example. 
We'll first generate the "segment_dict" based on the "vf_string":</p>
<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Balance|0.2, 0.2, 0.1, 0.08, 0.08, 0.1, 0.5&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">actual</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="n">actual</span><span class="p">)</span>
<span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segment_dict</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">segment</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">segment_dict</span><span class="p">[</span><span class="n">segment</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>1: {&#39;x1&#39;: 0, &#39;y1&#39;: 0, &#39;x2&#39;: 0.3, &#39;y2&#39;: 0.5, &#39;rho&#39;: -0.1}
2: {&#39;x1&#39;: 0.3, &#39;y1&#39;: 0.5, &#39;x2&#39;: 0.5, &#39;y2&#39;: 1, &#39;rho&#39;: 0.08}
3: {&#39;x1&#39;: 0.5, &#39;y1&#39;: 1, &#39;x2&#39;: 0.7, &#39;y2&#39;: 0.5, &#39;rho&#39;: 0.08}
4: {&#39;x1&#39;: 0.7, &#39;y1&#39;: 0.5, &#39;x2&#39;: 1, &#39;y2&#39;: 0, &#39;rho&#39;: -0.1}
</code></pre></div>
</details>
<p>Now we have our segment dictionary! We know what the coordinates for the "main" breakpoints are, so we can now 
generate the rest of the breakpoints to make the function linear. Let's calculate the x and y coordinates of our 
function's breakpoints.</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x:&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;y:&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>x: [0.   0.06 0.12 0.18 0.24 0.3  0.34 0.38 0.42 0.46 0.5  0.54 0.58 0.62 0.66 0.7  0.76 0.82 0.88 0.94 1.  ] 

y: [0.      0.00288 0.01245 0.04423 0.14973 0.5     0.8182  0.93527 0.97833 0.99417 1.      0.99417 0.97833 
    0.93527 0.8182  0.5     0.14973 0.04423 0.01245 0.00288 0.     ]
</code></pre></div>
</details>
<p>Now we plot our value function!</p>
<div class="highlight"><pre><span></span><code><span class="c1"># &quot;Balance&quot; type of value function!</span>
<span class="kn">from</span> <span class="nn">afccp.visualizations.charts</span> <span class="kn">import</span> <span class="n">ValueFunctionChart</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic34.png" width="600px">
</p>

<p>And there we have it. This is the value function we've constructed from that initial "vf_string". 
Play around with the different parameters and see what happens here!</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Change this</span>
<span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Balance|0.2, 0.2, 0.1, 0.08, 0.08, 0.1, 0.5&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># This is what we&#39;re after</span>
<span class="n">actual</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># This is essentially what we could realistically expect (based on set of eligible cadets)</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>
<span class="c1"># (the more breakpoints used, the more the function appears non-linear)</span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">actual</span><span class="o">=</span><span class="n">actual</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic35.png" width="600px">
</p>

<p>That is the "Balance" value function type. This is intended for the objectives that seek to "balance" certain 
characteristics of the cadets (USAFA proportions and sometimes Merit as well). I did end up changing the Merit 
value function to be a "Min Increasing" because I decided against penalizing the objective for exceeding 0.5. 
At this point, I will note that these value functions don't necessarily have to have 4 segments. 
I do have value function types that use 3, 2, or even 1 segment. Let's discuss the quota value functions.</p>
<p>"Quota_Direct" is intended for AFSCs that have a range on the number of cadets that are to be assigned, 
but also know around where they'd like to fall within that range. There are 6 parameters, the <span class="arithmatex">\(\rho\)</span> (rho) parameters 
for each of the four segments, and the y values for the two breakpoints on either side of the "peak". The vf_string 
is then: "Quota_Direct|<span class="arithmatex">\(\rho_1\)</span>, <span class="arithmatex">\(\rho_2\)</span>, <span class="arithmatex">\(\rho_3\)</span>, <span class="arithmatex">\(\rho_4\)</span>, <span class="arithmatex">\(y_1\)</span>, <span class="arithmatex">\(y_2\)</span>". The additional AFSC specific parameters 
are the upper/lower bounds on the number of cadets as well as the actual target number of cadets within that range. 
Here is an example:</p>
<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Quota_Direct|0.1, 1, 0.6, 0.1, 0.8, 0.8&quot;</span>
<span class="n">minimum</span> <span class="o">=</span> <span class="mi">120</span>  <span class="c1"># Lower Bound</span>
<span class="n">maximum</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># Upper Bound</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">140</span>  <span class="c1"># Desired number of cadets within the range</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> 
                                                                      <span class="n">minimum</span><span class="o">=</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="n">maximum</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic36.png" width="600px">
</p>

<p>Here you can see that although the range of 120 to 200 is specified, there is a direction of preference within that 
range (the AFSC wants around 140 cadets, but is fairly accepting of values around that range). I will note that the 
target, minimum, and maximum parameters are taken from the "Random_1 AFSCs.csv" data!</p>
<p>Another value function we can choose for the quota objective is the "Quota_Normal" function type. 
This is intended for AFSCs that either don't care about the number of cadets (as long as they fall within a certain 
range) or didn't specify. For example, the PGL says 120 and after speaking with them we determine the upper bound is 
200 and they say they have no preference between 120 and 200 and everything in between. There are 2 segments for this 
function, connected by a horizontal line at y = 1 for the range on the cadets. The function parameters are <span class="arithmatex">\(\rho_1\)</span>, 
<span class="arithmatex">\(\rho_2\)</span>, and "domain_max" which is the max number of cadets that could have a nonzero value (arbitrary scalar just 
to get a curve on the right side of the function). Here is the vf_string: "Quota_Normal|d_max, <span class="arithmatex">\(\rho_1\)</span>, <span class="arithmatex">\(\rho_2\)</span>". 
Here is an example:</p>
<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Quota_Normal|0.2, 0.25, 0.05&quot;</span>
<span class="n">minimum</span> <span class="o">=</span> <span class="mi">120</span>  <span class="c1"># Lower Bound</span>
<span class="n">maximum</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># Upper Bound</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">140</span>  <span class="c1"># (Doesn&#39;t matter here)</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> 
                                                                      <span class="n">minimum</span><span class="o">=</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="o">=</span><span class="n">maximum</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic37.png" width="600px">
</p>

<p>The last two kinds of value functions I'll discuss are the "Min Increasing" and "Min Decreasing" types. 
They are very simple and only have one segment which is a simple exponentional curve to get to the target measure 
(in the x space). The only parameter is <span class="arithmatex">\(\rho\)</span>. The vf_string then looks like: "Min Increasing|<span class="arithmatex">\(\rho\)</span>" or 
"Min Decreasing|<span class="arithmatex">\(\rho\)</span>". They are called "Min" functions because it's essentially the same thing as taking the 
minimum value between some exponential curve and 1. Here are some examples:</p>
<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Min Increasing|0.1&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic38.png" width="600px">
</p>

<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Min Increasing|-0.1&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic39.png" width="600px">
</p>

<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Min Decreasing|-1&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic40.png" width="600px">
</p>

<div class="highlight"><pre><span></span><code><span class="n">vf_string</span> <span class="o">=</span> <span class="s2">&quot;Min Decreasing|1&quot;</span>
<span class="n">target</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">num_breakpoints</span> <span class="o">=</span> <span class="mi">200</span>  <span class="c1"># How many breakpoints to use </span>

<span class="c1"># Don&#39;t change this</span>
<span class="n">segment_dict</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">create_segment_dict_from_string</span><span class="p">(</span><span class="n">vf_string</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">afccp</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">value_function_builder</span><span class="p">(</span><span class="n">segment_dict</span><span class="o">=</span><span class="n">segment_dict</span><span class="p">,</span> <span class="n">num_breakpoints</span><span class="o">=</span><span class="n">num_breakpoints</span><span class="p">)</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">ValueFunctionChart</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div>
<p align="center">
  <img src="/afccp/images/user-guide/pic41.png" width="600px">
</p>

<p>And there you have it! This is how I code up and construct my many value functions for each of the objectives for 
each of the AFSCs. Please reach out if you have any questions as I know this is a confusing section.</p>
<p>Now that we're done discussing the types of value functions, we can take a look at the actual value functions used on 
"Random_1". We're plotting the breakpoints (x/y coordinates) for a specific AFSC objective value function. 
Here is an example:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Plot the value function (this also saves it to the &quot;Value Functions&quot; sub-folder by default FYI)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">show_value_function</span><span class="p">({</span><span class="s1">&#39;afsc&#39;</span><span class="p">:</span> <span class="s2">&quot;R1&quot;</span><span class="p">,</span> <span class="s1">&#39;objective&#39;</span><span class="p">:</span> <span class="s1">&#39;Combined Quota&#39;</span><span class="p">})</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Creating value function chart for objective Combined Quota for AFSC R1
</code></pre></div>
</details>
<p align="center">
  <img src="/afccp/images/user-guide/pic42.png" width="600px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Plot the value function (this also saves it to the &quot;Value Functions&quot; sub-folder by default FYI)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">show_value_function</span><span class="p">({</span><span class="s1">&#39;afsc&#39;</span><span class="p">:</span> <span class="s2">&quot;R2&quot;</span><span class="p">,</span> <span class="s1">&#39;objective&#39;</span><span class="p">:</span> <span class="s1">&#39;USAFA Proportion&#39;</span><span class="p">})</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Creating value function chart for objective USAFA Proportion for AFSC R2
</code></pre></div>
</details>
<p align="center">
  <img src="/afccp/images/user-guide/pic43.png" width="600px">
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Plot the value function (this also saves it to the &quot;Value Functions&quot; sub-folder by default FYI)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">show_value_function</span><span class="p">({</span><span class="s1">&#39;afsc&#39;</span><span class="p">:</span> <span class="s2">&quot;R1&quot;</span><span class="p">,</span> <span class="s1">&#39;objective&#39;</span><span class="p">:</span> <span class="s1">&#39;Tier 1&#39;</span><span class="p">})</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Creating value function chart for objective Tier 1 for AFSC R1
</code></pre></div>
</details>
<p align="center">
  <img src="/afccp/images/user-guide/pic44.png" width="600px">
</p>

<h2 id="global-utility">Global Utility<a class="headerlink" href="#global-utility" title="Permanent link">&para;</a></h2>
<p>There are a few other components of the "value parameters" that I haven't mentioned yet. 
The <code>global_utility</code> matrix is based on the cadets' preferences as well as the AFSCs' preferences. 
The two matrices <code>cadet_utility</code> and <code>afsc_utility</code> are merged according to the overall weights on the cadets/AFSCs.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Cadet Utility Matrix</span>
<span class="n">p</span><span class="p">[</span><span class="s1">&#39;cadet_utility&#39;</span><span class="p">]</span>  <span class="c1"># As a reminder &#39;p&#39; -&gt; &#39;instance.parameters&#39;!!!</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([[1.    , 0.4683, 0.    , 0.1917],
       [1.    , 0.5433, 0.    , 0.3667],
       [0.135 , 1.    , 0.42  , 0.65  ],
       [0.7933, 0.4717, 1.    , 0.    ],
       [1.    , 0.    , 0.    , 0.355 ],
       [1.    , 0.2   , 0.47  , 0.805 ],
       [0.7133, 1.    , 0.1817, 0.    ],
       [1.    , 0.21  , 0.42  , 0.655 ],
       [1.    , 0.3833, 0.    , 0.1767],
       [0.1867, 0.    , 1.    , 0.3633],
       [0.265 , 0.    , 0.    , 1.    ],
       [1.    , 0.7983, 0.    , 0.3917],
       [0.645 , 0.495 , 1.    , 0.325 ],
       [1.    , 0.    , 0.43  , 0.    ],
       [0.8083, 1.    , 0.    , 0.3467],
       [0.7233, 0.4217, 1.    , 0.    ],
       [0.355 , 0.2   , 1.    , 0.5   ],
       [0.855 , 0.72  , 1.    , 0.52  ],
       [1.    , 0.56  , 0.21  , 0.725 ],
       [0.29  , 0.135 , 0.66  , 1.    ]])
</code></pre></div>
</details>
<div class="highlight"><pre><span></span><code><span class="c1"># AFSC Utility Matrix</span>
<span class="n">p</span><span class="p">[</span><span class="s1">&#39;afsc_utility&#39;</span><span class="p">]</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([[0.75      , 0.0625    , 0.        , 0.0625    ],
       [0.6       , 0.25      , 0.        , 0.3125    ],
       [0.05      , 0.6875    , 0.07692308, 0.4375    ],
       [0.2       , 0.3125    , 0.23076923, 0.        ],
       [0.55      , 0.        , 0.        , 0.375     ],
       [0.4       , 0.1875    , 0.15384615, 0.5       ],
       [0.7       , 0.9375    , 0.38461538, 0.        ],
       [1.        , 0.5625    , 0.69230769, 0.8125    ],
       [0.45      , 0.125     , 0.        , 0.125     ],
       [0.1       , 0.        , 0.76923077, 0.25      ],
       [0.85      , 0.        , 0.        , 1.        ],
       [0.25      , 0.5       , 0.        , 0.1875    ],
       [0.5       , 0.75      , 0.92307692, 0.6875    ],
       [0.9       , 0.        , 0.30769231, 0.        ],
       [0.95      , 1.        , 0.        , 0.5625    ],
       [0.3       , 0.4375    , 0.53846154, 0.        ],
       [0.35      , 0.625     , 1.        , 0.625     ],
       [0.65      , 0.8125    , 0.84615385, 0.75      ],
       [0.8       , 0.875     , 0.46153846, 0.9375    ],
       [0.15      , 0.375     , 0.61538462, 0.875     ]])
</code></pre></div>
</details>
<div class="highlight"><pre><span></span><code><span class="c1"># Overall weights on cadets/AFSCs</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;weight on cadets:&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;weight on AFSCs:&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>weight on cadets: 0.52
weight on AFSCs: 0.48
</code></pre></div>
</details>
<div class="highlight"><pre><span></span><code><span class="c1"># Global Utility Matrix (Each cell is the weighted sum of cadet/AFSC utility)</span>
<span class="n">vp</span><span class="p">[</span><span class="s1">&#39;global_utility&#39;</span><span class="p">]</span>  <span class="c1"># Extra column is for the unmatched cadets!</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([[0.8788349 , 0.2716248 , 0.        , 0.12908187, 0.        ],
       [0.80613583, 0.4011491 , 0.        , 0.34043141, 0.        ],
       [0.09380386, 0.84854362, 0.2537242 , 0.54700966, 0.        ],
       [0.50575097, 0.39454206, 0.62718429, 0.        , 0.        ],
       [0.78190281, 0.        , 0.        , 0.36469321, 0.        ],
       [0.70920375, 0.19394174, 0.31677274, 0.65717857, 0.        ],
       [0.70685402, 0.96970872, 0.28004506, 0.        , 0.        ],
       [1.        , 0.3808428 , 0.55197676, 0.73133402, 0.        ],
       [0.73343677, 0.25811221, 0.        , 0.15164306, 0.        ],
       [0.14467994, 0.        , 0.88815529, 0.30838797, 0.        ],
       [0.54852634, 0.        , 0.        , 1.        , 0.        ],
       [0.63650469, 0.6537258 , 0.        , 0.29273234, 0.        ],
       [0.57472424, 0.61858841, 0.96271843, 0.5006894 , 0.        ],
       [0.95153396, 0.        , 0.3707223 , 0.        , 0.        ],
       [0.87697638, 1.        , 0.        , 0.45128972, 0.        ],
       [0.51814325, 0.42935763, 0.77631058, 0.        , 0.        ],
       [0.3525767 , 0.40598068, 1.        , 0.56058255, 0.        ],
       [0.75564461, 0.76483109, 0.92543686, 0.6314719 , 0.        ],
       [0.90306792, 0.71266803, 0.33191074, 0.82799034, 0.        ],
       [0.22214754, 0.2513185 , 0.63837669, 0.93941745, 0.        ]])
</code></pre></div>
</details>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cadet 0&#39;s utility on AFSC 0:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;cadet_utility&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AFSC 0&#39;s utility on cadet 0:&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afsc_utility&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Global Utility[0, 0]:&quot;</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadets_overall_weight&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;cadet_utility&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span> 
     <span class="nb">round</span><span class="p">(</span><span class="n">vp</span><span class="p">[</span><span class="s1">&#39;afscs_overall_weight&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;afsc_utility&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">vp</span><span class="p">[</span><span class="s1">&#39;global_utility&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>Cadet 0&#39;s utility on AFSC 0: 1.0
AFSC 0&#39;s utility on cadet 0: 0.75
Global Utility[0, 0]: 0.52 * 1.0 + 0.48 * 0.75 = 0.8788348955053363
</code></pre></div>
</details>
<p>The global utility matrix is unique to each set of value parameters (since you can toggle the weights on 
cadets/AFSCs and get a different matrix). This matrix lives in "Random_1 VP Global Utility.csv":</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic45.png" width="600px">
</p>

<h2 id="cadet-utility-constraints-meant-just-for-afpcdsya-through-an-operational-lens">Cadet Utility Constraints (Meant just for AFPC/DSYA through an operational lens)<a class="headerlink" href="#cadet-utility-constraints-meant-just-for-afpcdsya-through-an-operational-lens" title="Permanent link">&para;</a></h2>
<p>Another component of the value parameters is the cadet utility constraints. These constraints ensure certain cadets 
receive some minimum utility value, and the implication here usually applies to the top 10% of cadets as my method of 
preventing as much of the "adjudication" piece on the backend. Built into the classification process is adjudication 
where the sources of commissioning get to review the results prior to release and make adjustments as needed. 
One thing they always want to make sure is that their top cadets are getting something they want, and if they aren't 
they'll kick it back to AFPC to fix. I can use the cadet utility constraints to ensure that the top 10% of cadets 
receive one of their top 3 choices, or there is a good reason why they aren't getting one (if they only have very 
competitive AFSCs as their top 3 choices and don't rank high enough for them then that may cause problems). </p>
<p>These constraints live in the file "Random_1 Cadets Utility Constraints.csv":</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic46.png" width="600px">
</p>

<p>As you can see, I include the cadet indices (as I've said before, it's because I like referring to cadets by their 
indices in the numpy arrays since that allows me to do a lot of things) as well as the cadets' order of merit. 
This information gives more context to why certain cadets have constrained minimum values versus other cadets! 
The "VP" column is the actual constrained minimum utilities for all the cadets. If you have a second set of 
value parameters that you're using, there would be another column called "VP2". As you can see, the default is to 
keep all the cadets unconstrained. I've thought a lot about how this should work and wrestled with the idea of 
just making a function to go through and constrain the top 10% to get a utility value greater than or equal to their 
third choice but ultimately decided against it. The reason is that it's more complicated than that, and I firmly 
believe the AFPC/DSYA analyst needs to be the one to do it manually. </p>
<p>When I ran this for FY23 and FY24, I tuned the model parameters to be what I needed them to be based on everyone's 
wants and desires and then solved it initially without any cadet constraints. I can then look at the solution at the 
top 10/20% of the class and if the cadet is receiving a top 3 preference anyway (vast majority do), then I constrain 
their utilities to be whatever their third choice utility was. I then filter on the people who aren't getting a top 3 
preference. If the reason is just because the optimal solution involved this cadet not getting a top 3 preference, 
and they really should have received one based on preferences (they didn't have 3 very hard choices to meet), 
then I also enforce the utility constraint. If there's a clear reason why they're getting their fourth choice (and I 
mean a VERY justifiable reason), then I constrain them to their fourth choice utility. For top 10%, I don't think this 
happened at all but did occur for top 20%.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Cadet utility constriants</span>
<span class="n">vp</span><span class="p">[</span><span class="s1">&#39;cadet_value_min&#39;</span><span class="p">]</span>  <span class="c1"># Defaults to 0! For an example problem (not real class year), don&#39;t mess with this</span>
</code></pre></div>
<details class="note">
<summary>üíª Console Output</summary>
<div class="highlight"><pre><span></span><code>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0.])
</code></pre></div>
</details>
<h2 id="goal-programming-parameters">Goal-Programming Parameters<a class="headerlink" href="#goal-programming-parameters" title="Permanent link">&para;</a></h2>
<p>One final input file that I haven't mentioned is "Random_1 Goal Programming.csv". These are the inputs that 
another AFIT researcher, former Lt. Rebecca Reynolds (now Capt. Rebecca Eisemann), used for her goal-programming model. 
My intent for <code>afccp</code> has always been to provide a way for researchers in this field to contribute to this 
"academic" problem and try new things to inspire innovation for AFPC/DSYA. For her goal programming model, her 
inputs are structured in this way:</p>
<p align="center">
  <img src="/afccp/images/user-guide/pic47.png" width="600px">
</p>

<p>In order to get the penalty/reward terms here we need to run the model on the specific class year to tune the 
parameters to get the actual parameters needed to run the full goal programming model. It's a little nuanced and 
you can certainly view her thesis <a href="https://scholar.afit.edu/etd/5449/">here</a>. I will briefly cover her model a 
little more later on.</p>
<h2 id="summary">üìå Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>This tutorial explains how to generate and customize value parameters for cadet-to-AFSC matching within the AFCCP model. 
Value parameters are central to the Value-Focused Thinking model through the use of modeling AFSC objectives. That said,
since the main model used now is the GUO model, most of the contents of the <code>value_parameters</code> dictionary are no longer
used. That said, there are still some components that are very much used (like the constraints).</p>
<p>The tutorial walks through:</p>
<ul>
<li>
<p><strong>Default Value Generation</strong><br />
  How to use predefined "defaults" to create baseline value parameters.</p>
</li>
<li>
<p><strong>AFSC Objectives and Components</strong>
  The data available for each AFSC and objective (weights, targets, constraints, value functions)</p>
</li>
<li>
<p><strong>Custom Curve Generation</strong><br />
  Methods to create and visualize alternative value functions using exponential or polynomial interpolation.</p>
</li>
<li>
<p><strong>Adjustments and Additions</strong><br />
  How to modify value curves for specific AFSCs or cadet groups, including smoothing and parameter additions.</p>
</li>
<li>
<p><strong>Visualization</strong><br />
  Optional plotting functions to help understand the shape and effect of each value function.</p>
</li>
</ul>
<p>By the end, you should have a fully defined set of <code>value_parameters</code> stored in the appropriate dictionary structure 
to feed into the various <code>afccp</code> optimization models. You‚Äôre now ready to continue on and discover the data methods
used to correct the parameters in <a href="../tutorial_5/">Tutorial 5</a>!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://gitlab.com/path-to-your-repo" target="_blank" rel="noopener" title="gitlab.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/input/tex/extensions/bm.js"></script>
      
    
  </body>
</html>